{
  LogEventPack eventPack=new LogEventPack();
  Mockito.when(flumeEventBuilder.generateEvents(Mockito.any(LogEventPack.class),Mockito.any(RecordHeader.class),Mockito.anyString())).thenReturn(Collections.singletonList(Mockito.mock(Event.class)));
  TestLogDeliveryCallback callback=new TestLogDeliveryCallback();
  appender.doAppend(eventPack,callback);
  Assert.assertTrue(callback.success);
}
