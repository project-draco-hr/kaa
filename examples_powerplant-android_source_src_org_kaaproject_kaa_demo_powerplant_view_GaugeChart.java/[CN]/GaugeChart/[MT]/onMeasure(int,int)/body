{
  int widthMode=MeasureSpec.getMode(widthMeasureSpec);
  int widthSize=MeasureSpec.getSize(widthMeasureSpec);
  int heightMode=MeasureSpec.getMode(heightMeasureSpec);
  int heightSize=MeasureSpec.getSize(heightMeasureSpec);
  int chosenWidth=chooseDimension(widthMode,widthSize);
  int chosenHeight=chooseDimension(heightMode,heightSize);
  int chosenDimension=Math.min(chosenWidth,chosenHeight);
  setMeasuredDimension(chosenDimension,chosenDimension);
}
