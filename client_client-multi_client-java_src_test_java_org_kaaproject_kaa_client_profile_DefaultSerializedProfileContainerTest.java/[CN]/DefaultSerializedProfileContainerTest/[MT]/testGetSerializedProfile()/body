{
  ProfileListener listener=mock(ProfileListener.class);
  KaaClientState state=mock(KaaClientState.class);
  DefaultSerializedProfileContainer serializedContainer=new DefaultSerializedProfileContainer(state);
  BasicProfileContainer container=new BasicProfileContainer();
  container.setProfileListener(listener);
  serializedContainer.setProfileContainer(container);
  AvroByteArrayConverter<BasicEndpointProfile> converter=new AvroByteArrayConverter<>(BasicEndpointProfile.class);
  assertArrayEquals(converter.toByteArray(container.getProfile()),serializedContainer.getSerializedProfile());
}
