{
  EndpointUserDto userDto=generateEndpointUser(null);
  ApplicationDto appDto=generateApplication();
  int foundVersion=random.nextInt();
  EndpointUserConfigurationDto firstUserConfigurationDto=generateEndpointUserConfiguration(userDto,appDto,foundVersion);
  EndpointUserConfigurationDto secondUserConfigurationDto=generateEndpointUserConfiguration(userDto,appDto,random.nextInt());
  List<MongoEndpointUserConfiguration> expectedList=new ArrayList<>();
  expectedList.add(new MongoEndpointUserConfiguration(firstUserConfigurationDto));
  expectedList.add(new MongoEndpointUserConfiguration(secondUserConfigurationDto));
  generateEndpointUserConfiguration(null,null,null);
  MongoEndpointUserConfiguration found=endpointUserConfigurationDao.findByUserIdAndAppTokenAndSchemaVersion(userDto.getId(),appDto.getApplicationToken(),foundVersion);
  Assert.assertEquals(firstUserConfigurationDto,found.toDto());
}
