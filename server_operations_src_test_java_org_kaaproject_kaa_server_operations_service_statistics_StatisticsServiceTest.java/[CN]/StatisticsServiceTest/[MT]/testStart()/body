{
  StatisticsService service=StatisticsFactory.getService(ChannelType.HTTP);
  assertNotNull(service);
  service.setConfig(configMock);
  service.setZkNode(zkNodeMock);
  try {
    Thread.sleep(5000);
  }
 catch (  InterruptedException e) {
    fail(e.toString());
  }
  assertTrue(service.isAlive());
  try {
    verify(zkNodeMock,atLeastOnce()).updateNodeStatsValues(ZkChannelType.HTTP,0,0,0);
  }
 catch (  IOException e) {
    e.printStackTrace();
    fail(e.toString());
  }
  service.shutdown();
}
