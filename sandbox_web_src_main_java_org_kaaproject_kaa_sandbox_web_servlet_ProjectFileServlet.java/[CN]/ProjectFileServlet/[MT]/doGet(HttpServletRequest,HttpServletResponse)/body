{
  ProjectDataKey key=extractKey(request);
  if (key != null) {
    try {
      FileData fileData=cacheService.getProjectFile(key);
      if (fileData != null) {
        if (fileData.getContentType() != null) {
          response.setContentType(fileData.getContentType());
        }
        ServletUtils.prepareDisposition(request,response,fileData.getFileName());
        response.setContentLength(fileData.getFileData().length);
        response.setBufferSize(BUFFER);
        response.getOutputStream().write(fileData.getFileData());
        response.flushBuffer();
      }
 else {
        logger.error("File data not found in cache for requested parameters: projectId [{}]  type [{}]",key.getProjectId(),key.getProjectDataType());
      }
    }
 catch (    Exception e) {
      logger.error("Unexpected error in ProjectFileServlet.doGet: ",e);
    }
  }
}
