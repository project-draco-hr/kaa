{
  LOG.info("processing pedestrian walk request");
  final CityLightsConfiguration configuration=kaaClient.getConfiguration();
  trafficState.setPedestrianPending(true);
  if (!trafficState.isCarPending()) {
    updateTrafficLightsState(configuration.getKaaClientConfiguration(),DISALLOW);
    ControllerApplication.getExecutor().schedule(new Runnable(){
      @Override public void run(){
        LOG.info("processing pedestrian walk timeout");
        trafficState.setPedestrianPending(false);
        updateTrafficLightsState(configuration.getKaaClientConfiguration(),ALLOW);
        if (trafficState.isCarPending()) {
          LOG.info("Controller waiting for car to complete her move");
        }
 else {
          startSwitchTimer();
        }
      }
    }
,configuration.getTrafficLightsConfiguration().getPedestrianWalkDuration(),TimeUnit.SECONDS);
  }
 else {
    LOG.info("Traffic state is already in \"car pending\" state!");
  }
}
