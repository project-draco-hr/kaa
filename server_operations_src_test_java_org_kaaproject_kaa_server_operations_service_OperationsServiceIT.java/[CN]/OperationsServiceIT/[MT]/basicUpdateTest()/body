{
  basicRegistrationTest();
  byte[] profile=avroConverter.encode(NEW_ENDPOINT_PROFILE);
  ProfileUpdateRequest request=new ProfileUpdateRequest();
  request.setApplicationToken(app.getApplicationToken());
  request.setVersionInfo(new EndpointVersionInfo(CONF_SCHEMA_VERSION,PROFILE_SCHEMA_VERSION,1,1));
  request.setEndpointPublicKeyHash(ByteBuffer.wrap(EndpointObjectHash.fromSHA1(ENDPOINT_KEY).getData()));
  request.setProfileBody(ByteBuffer.wrap(profile));
  SyncResponse response=operationsService.updateProfile(request).getResponse();
  Assert.assertNotNull(response);
  Assert.assertEquals(APPLICATION_SEQ_NUMBER,(int)response.getAppStateSeqNumber());
  Assert.assertEquals(SyncResponseStatus.NO_DELTA,response.getResponseType());
  Assert.assertNull(response.getConfSyncResponse().getConfDeltaBody());
  Assert.assertNull(response.getConfSyncResponse().getConfSchemaBody());
}
