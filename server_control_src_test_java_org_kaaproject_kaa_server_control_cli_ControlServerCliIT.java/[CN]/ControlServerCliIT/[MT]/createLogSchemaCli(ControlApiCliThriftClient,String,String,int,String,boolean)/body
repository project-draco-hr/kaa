{
  cliOut.reset();
  boolean create=strIsEmpty(logSchemaObjId);
  String cmdLine=(create ? "create" : "edit") + "LogSchema";
  cmdLine+=" -a " + applicationId;
  if (!create) {
    cmdLine+=" -i " + logSchemaObjId;
  }
  if (!strIsEmpty(schemaPath)) {
    cmdLine+=" -f " + schemaPath;
  }
 else {
    cmdLine+=" -f " + getTestFile("testLogSchema.json");
  }
  if (createOut) {
    cmdLine+=" -o dummy.obj";
  }
  int result=cli.processLine(cmdLine);
  Assert.assertEquals(0,result);
  String output=cliOut.toString("UTF-8");
  String logSchemaId=null;
  if (create) {
    String test=output.trim();
    logSchemaId=test.substring("Created new Log Schema with id: ".length()).trim();
  }
 else {
    logSchemaId=logSchemaObjId;
    Assert.assertTrue(output.trim().startsWith("LogSchema:"));
  }
  return logSchemaId;
}
