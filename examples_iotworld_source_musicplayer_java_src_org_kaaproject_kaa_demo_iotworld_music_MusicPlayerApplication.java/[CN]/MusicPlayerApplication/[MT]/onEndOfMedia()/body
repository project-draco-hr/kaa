{
  LOG.info("Playback of song {} completed",state.getSongId());
  if (isPlaybackAllowed()) {
    String nextSongId=library.getNext(state.getSongId());
    LOG.info("Next song {}",nextSongId);
    resetPlayer(nextSongId);
    player.play();
    state.setSongId(nextSongId);
  }
}
