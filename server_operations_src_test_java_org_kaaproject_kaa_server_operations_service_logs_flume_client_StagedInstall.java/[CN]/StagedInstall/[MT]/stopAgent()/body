{
  if (process == null) {
    throw new Exception("Process not found");
  }
  LOGGER.info("Shutting down agent process");
  process.destroy();
  process=null;
  consumer.interrupt();
  consumer=null;
  configFilePath=null;
  Runtime.getRuntime().removeShutdownHook(shutdownHook);
  shutdownHook=null;
  Thread.sleep(3000);
}
