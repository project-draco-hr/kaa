{
  while (operate) {
    try {
      int c=in.read(buffer);
      if (c > 0) {
        String msg=new String(buffer,0,c);
        Log.v(TAG,"BT: RX: " + msg);
        getCallback().onMessage(msg);
      }
 else {
        Log.e(TAG,"BT: connection closed.");
        onDisconnect(new BTException("EOF read, connection closed"));
      }
    }
 catch (    IOException e) {
      Log.e(TAG,"BT: error BTReader",e);
      onDisconnect(e);
    }
  }
}
