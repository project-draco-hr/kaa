{
  TenantDto tenant=createTenant();
  EndpointUserDto savedEndpointUser=createEndpointUser("",tenant.getId());
  Assert.assertNull(savedEndpointUser.getAccessToken());
  String generatedAccessToken=client.generateEndpointUserAccessToken(savedEndpointUser.getExternalId(),savedEndpointUser.getTenantId());
  EndpointUserDto endpointUser=toDto(client.getEndpointUser(savedEndpointUser.getId()));
  Assert.assertNotNull(generatedAccessToken);
  Assert.assertEquals(generatedAccessToken,endpointUser.getAccessToken());
  client.deleteEndpointUser(endpointUser.getId());
  client.deleteTenant(tenant.getId());
}
