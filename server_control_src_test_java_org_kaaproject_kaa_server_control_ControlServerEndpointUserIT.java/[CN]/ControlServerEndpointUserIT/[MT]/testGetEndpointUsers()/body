{
  TenantDto tenant=createTenant();
  List<EndpointUserDto> endpointUsers=new ArrayList<>(10);
  for (int i=0; i < 10; i++) {
    EndpointUserDto endpointUser=createEndpointUser(((Integer)i).toString(),tenant.getId());
    endpointUsers.add(endpointUser);
  }
  Collections.sort(endpointUsers,new IdComparator());
  List<EndpointUserDto> storedEndpointUsers=toDtoList(client.getEndpointUsers());
  Collections.sort(storedEndpointUsers,new IdComparator());
  Assert.assertEquals(endpointUsers.size(),storedEndpointUsers.size());
  for (int i=0; i < endpointUsers.size(); i++) {
    EndpointUserDto endpointUser=endpointUsers.get(i);
    EndpointUserDto storedEndpointUser=storedEndpointUsers.get(i);
    Assert.assertEquals(endpointUser,storedEndpointUser);
  }
  for (  EndpointUserDto endpointUser : storedEndpointUsers) {
    client.deleteEndpointUser(endpointUser.getId());
  }
  client.deleteTenant(tenant.getId());
}
