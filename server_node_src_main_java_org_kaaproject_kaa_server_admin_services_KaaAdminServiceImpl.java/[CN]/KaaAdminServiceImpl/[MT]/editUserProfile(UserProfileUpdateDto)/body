{
  checkAuthority(KaaAuthorityDto.TENANT_USER,KaaAuthorityDto.TENANT_DEVELOPER,KaaAuthorityDto.KAA_ADMIN,KaaAuthorityDto.TENANT_ADMIN);
  try {
    checkUserProfile(userProfileUpdateDto);
    User user=userFacade.findById(Long.valueOf(getCurrentUser().getExternalUid()));
    user.setFirstName(userProfileUpdateDto.getFirstName());
    user.setLastName(userProfileUpdateDto.getLastName());
    user.setMail(userProfileUpdateDto.getMail());
    userFacade.save(user);
  }
 catch (  Exception e) {
    throw Utils.handleException(e);
  }
}
