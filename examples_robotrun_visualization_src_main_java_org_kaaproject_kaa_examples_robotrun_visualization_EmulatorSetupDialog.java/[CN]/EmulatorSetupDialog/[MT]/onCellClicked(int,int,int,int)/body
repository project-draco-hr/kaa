{
  Cell cell=labyrinth.getCell(col,row);
  if (!labyrinthGenerated) {
    Object[] possibilities=new String[]{"Start","Finish"};
    int index=startCell != null ? 1 : 0;
    String type=(String)showInputDialog(x,y,possibilities,possibilities[index],"Specify cell type","Generate maze");
    if (type != null) {
      if ("Start".equals(type)) {
        if (cell.equals(finishCell)) {
          finishCell=null;
        }
        startCell=cell;
      }
 else {
        if (cell.equals(startCell)) {
          startCell=null;
        }
        finishCell=cell;
      }
    }
    generateLabyrinthButton.setEnabled(startCell != null && finishCell != null);
  }
 else {
    if (!robots.containsKey(cell)) {
      Object[] possibilities=Direction.values();
      Direction direction=(Direction)showInputDialog(x,y,possibilities,possibilities[0],"Specify direction","Robot direction");
      if (direction != null) {
        EmulatorSetupDialog.this.robots.put(cell,direction);
      }
    }
 else {
      robots.remove(cell);
    }
  }
  okButton.setEnabled(!robots.isEmpty());
  surfacePanel.repaint();
}
