{
  if (value < 0 || value > 1)   throw new IllegalArgumentException("Volume can only be set to a value from 0 to 1. Given value is illegal: " + value);
  Line line=getMasterOutputLine();
  if (line == null)   throw new RuntimeException("Master output port not found");
  boolean opened=open(line);
  try {
    FloatControl control=getVolumeControl(line);
    if (control == null)     throw new RuntimeException("Volume control not found in master port: " + toString(line));
    control.setValue(value);
  }
  finally {
    if (opened)     line.close();
  }
}
