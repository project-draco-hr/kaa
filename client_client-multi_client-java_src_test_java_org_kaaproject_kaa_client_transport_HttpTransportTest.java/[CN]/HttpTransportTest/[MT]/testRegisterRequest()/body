{
  SyncResponse syncResponse=new SyncResponse();
  syncResponse.setResponseType(SyncResponseStatus.NO_DELTA);
  TransportTest transportTest=new TransportTest(syncResponse,SyncResponse.class);
  HttpOperationsTransport transport=createEndpointTransport();
  transportTest.setMocksToTransport(transport);
  EndpointRegistrationRequest request=new EndpointRegistrationRequest();
  request.setApplicationToken("1234567");
  request.setEndpointPublicKey(ByteBuffer.wrap(new byte[]{1,2,3}));
  request.setProfileBody(ByteBuffer.wrap(new byte[]{1,2,3}));
  request.setVersionInfo(new EndpointVersionInfo(1,1,1,1));
  SyncResponse result=transport.sendRegisterCommand(request);
  verify(transportTest.getHttpClient(),times(1)).execute(any(HttpPost.class));
  assertEquals(syncResponse,result);
}
