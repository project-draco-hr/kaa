{
  final Object httpSync=new Object();
  testFailed=true;
  KaaTcpTestClient tcpClient;
  try {
    tcpClient=new KaaTcpTestClient(kaaTcpHost,kaaTcpPort,"asdcasdcasdc",new HttpActivity(){
      @Override public void httpRequestComplete(      Exception e,      int id,      OperationsServerList response){
        if (e != null) {
          fail(e.toString());
        }
synchronized (httpSync) {
          testFailed=false;
          httpSync.notify();
        }
      }
    }
);
    executor.execute(tcpClient);
  }
 catch (  UnknownHostException e) {
    logger.error(e.toString(),e);
    testFailed=true;
  }
catch (  IOException e) {
    logger.error(e.toString(),e);
    testFailed=true;
  }
synchronized (httpSync) {
    try {
      httpSync.wait(10000);
      logger.info("Going to test Operations Server List using KaaTcp update..... complete.");
    }
 catch (    InterruptedException e) {
      fail(e.toString());
    }
  }
  if (testFailed) {
    fail("Test KaaTcp failed");
  }
}
