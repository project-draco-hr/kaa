{
  Bundle args=new Bundle();
  args.putInt(DEV_POSITION,position);
  BaseControlFragment<?> result=null;
switch (deviceType) {
case THERMOSTAT:
    result=new ThermostatControlFragment();
  break;
case TV:
result=new TvControlFragment();
break;
case SOUND_SYSTEM:
result=new SoundSystemControlFragment();
break;
case LAMP:
result=new LampControlFragment();
break;
default :
result=new BaseControlFragment<SmartDeviceInfo>(){
@Override public DeviceType getDeviceType(){
return deviceType;
}
}
;
break;
}
if (result != null) {
result.setArguments(args);
}
return result;
}
