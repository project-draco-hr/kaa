{
  DecoderResult result=mock(DecoderResult.class);
  when(result.isSuccess()).thenReturn(isSuccessfulResult);
  HttpRequest httpRequest=mock(HttpRequest.class);
  when(httpRequest.getDecoderResult()).thenReturn(result);
  when(httpRequest.getMethod()).thenReturn(httpMethod);
  HttpHeaders headers=mock(HttpHeaders.class);
  when(headers.toString()).thenReturn("Some header");
  when(httpRequest.headers()).thenReturn(headers);
  return httpRequest;
}
