{
  UUID uuid=UUID.randomUUID();
  SessionHistory history=new SessionHistory(uuid);
  assertNotNull(history);
  history.newRequest(SyncCommand.getCommandName());
  assertNotNull(history.getRequests());
  assertTrue(history.getRequests().size() == 1);
  RequestHistory rhSync=history.getRequests().get(0);
  assertNotNull(rhSync);
  assertEquals(SessionHistory.RequestType.SYNC,rhSync.getType());
  history.newRequest(LongSyncCommand.getCommandName());
  assertNotNull(history.getRequests());
  assertTrue(history.getRequests().size() == 2);
  RequestHistory rhLongSync=history.getRequests().get(1);
  assertNotNull(rhLongSync);
  assertEquals(SessionHistory.RequestType.LONGSYNC,rhLongSync.getType());
  history.newRequest("test");
  assertNotNull(history.getRequests());
  assertTrue(history.getRequests().size() == 3);
  RequestHistory rhTest=history.getRequests().get(2);
  assertNotNull(rhTest);
  assertEquals(SessionHistory.RequestType.UNKNOWN,rhTest.getType());
}
