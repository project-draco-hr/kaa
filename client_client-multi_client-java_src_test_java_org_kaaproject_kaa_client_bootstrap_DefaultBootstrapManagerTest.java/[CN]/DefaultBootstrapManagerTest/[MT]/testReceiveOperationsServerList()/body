{
  DefaultBootstrapManager manager=new DefaultBootstrapManager("");
  BootstrapTransport transport=mock(BootstrapTransport.class);
  OperationsServerList serverList=new OperationsServerList();
  when(transport.sendResolveRequest(any(Resolve.class))).thenReturn(serverList);
  manager.setTransport(transport);
  boolean exception=false;
  try {
    manager.receiveOperationsServerList();
  }
 catch (  BootstrapRuntimeException e) {
    exception=true;
  }
  assertTrue(exception);
  LinkedList<OperationsServer> list=new LinkedList<OperationsServer>();
  list.add(new OperationsServer("host1",1,ByteBuffer.wrap(new byte[]{1,2,3})));
  list.add(new OperationsServer("host2",3,ByteBuffer.wrap(new byte[]{1,2,3})));
  serverList.setOperationsServerArray(list);
  manager.receiveOperationsServerList();
  verify(transport,times(2)).sendResolveRequest(any(Resolve.class));
}
