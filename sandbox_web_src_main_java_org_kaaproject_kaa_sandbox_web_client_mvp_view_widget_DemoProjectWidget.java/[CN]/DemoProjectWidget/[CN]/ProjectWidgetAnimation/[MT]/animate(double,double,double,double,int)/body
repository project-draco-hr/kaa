{
  this.baseOpacity=baseOpacity;
  this.targetOpacity=targetOpacity;
  this.baseMargin=baseMargin;
  this.targetMargin=targetMargin;
  widget.getElement().getStyle().setOpacity(this.baseOpacity);
  widget.getElement().getStyle().setMarginRight(this.baseMargin,Unit.PX);
  this.opacityIncrement=this.targetOpacity - this.baseOpacity;
  this.marginIncrement=this.targetMargin - this.baseMargin;
  if (duration > 0) {
    run(duration);
  }
 else {
    onComplete();
  }
}
