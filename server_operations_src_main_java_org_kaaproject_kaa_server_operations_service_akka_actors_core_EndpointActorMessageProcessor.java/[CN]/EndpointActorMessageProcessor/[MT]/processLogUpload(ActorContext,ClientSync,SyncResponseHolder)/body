{
  LogClientSync request=syncRequest.getLogSync();
  if (request != null) {
    if (request.getLogEntries() != null && request.getLogEntries().size() > 0) {
      LOG.debug("[{}][{}] Processing log upload request {}",endpointKey,actorKey,request.getLogEntries().size());
      LogEventPack logPack=new LogEventPack();
      logPack.setDateCreated(System.currentTimeMillis());
      logPack.setEndpointKey(Base64Util.encode(key.getData()));
      List<LogEvent> logEvents=new ArrayList<>(request.getLogEntries().size());
      for (      LogEntry logEntry : request.getLogEntries()) {
        LogEvent logEvent=new LogEvent();
        logEvent.setLogData(logEntry.getData().array());
        logEvents.add(logEvent);
      }
      logPack.setEvents(logEvents);
      logPack.setLogSchemaVersion(responseHolder.getEndpointProfile().getLogSchemaVersion());
      logPack.setUserId(state.getUserId());
      context.parent().tell(new LogEventPackMessage(request.getRequestId(),context.self(),logPack),context.self());
    }
    if (logUploadResponseMap.size() > 0) {
      responseHolder.getResponse().setLogSync(EntityConvertUtils.convert(logUploadResponseMap));
      logUploadResponseMap.clear();
    }
  }
}
