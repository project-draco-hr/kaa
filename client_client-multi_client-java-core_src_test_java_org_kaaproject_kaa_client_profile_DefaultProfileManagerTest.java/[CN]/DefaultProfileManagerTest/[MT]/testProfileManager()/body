{
  ProfileTransport transport=mock(ProfileTransport.class);
  DefaultProfileManager profileManager=new DefaultProfileManager(transport);
  profileManager.setProfileContainer(new ProfileContainer(){
    @Override public Profile getProfile(){
      return new Profile();
    }
  }
);
  Assert.assertNotNull(profileManager.getSerializedProfile());
  profileManager.updateProfile();
  Mockito.verify(transport).sync();
}
