{
  this.loginTenantDeveloper(tenantDeveloperUser);
  final CTLSchemaInfoDto dependency=this.createCTLSchema(this.ctlRandomFieldType(),CTL_DEFAULT_NAMESPACE,1,CTLSchemaScopeDto.TENANT,null,null,null);
  Set<CTLSchemaMetaInfoDto> dependencies=new HashSet<>();
  dependencies.add(new CTLSchemaMetaInfoDto(dependency.getFqn(),dependency.getVersion()));
  Map<String,String> fields=new HashMap<>();
  fields.put(this.ctlRandomFieldName(),dependency.getFqn());
  this.createCTLSchema(this.ctlRandomFieldName(),CTL_DEFAULT_NAMESPACE,1,CTLSchemaScopeDto.TENANT,null,dependencies,fields);
  this.checkBadRequest(new TestRestCall(){
    @Override public void executeRestCall() throws Exception {
      client.deleteCTLSchemaByFqnAndVersion(dependency.getFqn(),dependency.getVersion());
    }
  }
);
}
