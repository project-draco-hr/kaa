{
  executorContext.getApiExecutor().execute(new Runnable(){
    @Override public void run(){
      try {
        storage.addLogRecord(new LogRecord(record));
      }
 catch (      IOException e) {
        LOG.warn("Can't serialize log record {}",record);
      }
      if (!isDeliveryTimeout()) {
        uploadIfNeeded();
      }
    }
  }
);
}
