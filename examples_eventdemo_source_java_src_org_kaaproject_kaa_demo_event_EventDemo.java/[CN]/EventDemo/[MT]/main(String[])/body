{
  LOG.info("Event demo started");
  LOG.info("--= Press any key to exit =--");
  kaaClient=Kaa.newClient(new DesktopKaaPlatformContext(),new SimpleKaaClientStateListener(){
    @Override public void onStarted(){
      LOG.info("Kaa client started");
    }
    @Override public void onStopped(){
      LOG.info("Kaa client stopped");
    }
  }
);
  kaaClient.start();
  kaaClient.attachUser(USER_EXTERNAL_ID,USER_ACCESS_TOKEN,new UserAttachCallback(){
    @Override public void onAttachResult(    UserAttachResponse response){
      LOG.info("Attach response {}",response.getResult());
      if (response.getResult() == SyncResponseResultType.SUCCESS) {
        onUserAttached();
      }
 else {
        kaaClient.stop();
        LOG.info("Event demo stopped");
      }
    }
  }
);
  try {
    System.in.read();
  }
 catch (  IOException e) {
    LOG.error("IOException was caught",e);
  }
  kaaClient.stop();
  LOG.info("Event demo stopped");
}
