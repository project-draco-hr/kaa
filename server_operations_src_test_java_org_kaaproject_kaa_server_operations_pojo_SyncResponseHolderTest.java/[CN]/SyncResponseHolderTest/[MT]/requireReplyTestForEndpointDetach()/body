{
  SyncResponse response=new SyncResponse();
  response.setUserSyncResponse(new UserSyncResponse());
  assertFalse(new SyncResponseHolder(response).requireImmediateReply());
  response.getUserSyncResponse().setEndpointDetachResponses(new ArrayList<EndpointDetachResponse>());
  assertFalse(new SyncResponseHolder(response).requireImmediateReply());
  response.getUserSyncResponse().getEndpointDetachResponses().add(new EndpointDetachResponse());
  assertTrue(new SyncResponseHolder(response).requireImmediateReply());
}
