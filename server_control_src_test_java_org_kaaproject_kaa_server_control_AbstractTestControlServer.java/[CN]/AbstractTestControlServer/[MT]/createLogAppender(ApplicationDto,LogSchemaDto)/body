{
  LogAppenderDto appender=new LogAppenderDto();
  appender.setName(generateString("Test Schema"));
  appender.setDescription(generateString("Test Desc"));
  if (application == null) {
    application=createApplication();
  }
  appender.setApplicationId(application.getId());
  appender.setApplicationToken(application.getApplicationToken());
  appender.setTenantId(application.getTenantId());
  if (schema == null) {
    schema=createLogSchema(application.getId());
  }
  appender.setMinLogSchemaVersion(schema.getMajorVersion());
  appender.setMaxLogSchemaVersion(schema.getMajorVersion());
  appender.setStatus(LogAppenderStatusDto.REGISTERED);
  LogAppenderDto savedLogAppender=toDto(client.editLogAppender(toDataStruct(appender)));
  return savedLogAppender;
}
