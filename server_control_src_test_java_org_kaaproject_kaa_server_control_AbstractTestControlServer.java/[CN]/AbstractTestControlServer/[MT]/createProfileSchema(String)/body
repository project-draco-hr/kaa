{
  ProfileSchemaDto profileSchema=new ProfileSchemaDto();
  DataSchema schema=new KaaSchemaFactoryImpl().createDataSchema(getResourceAsString(TEST_PROFILE_SCHEMA));
  profileSchema.setSchema(schema.getRawSchema());
  profileSchema.setName(generateString("Test Schema"));
  profileSchema.setDescription(generateString("Test Desc"));
  if (strIsEmpty(applicationId)) {
    ApplicationDto application=createApplication();
    profileSchema.setApplicationId(application.getId());
  }
 else {
    profileSchema.setApplicationId(applicationId);
  }
  ProfileSchemaDto savedProfileSchema=toDto(client.editProfileSchema(toDataStruct(profileSchema)));
  return savedProfileSchema;
}
