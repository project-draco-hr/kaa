{
  NotificationSchemaDto notificationSchema=new NotificationSchemaDto();
  notificationSchema.setSchema(new KaaSchemaFactoryImpl().createDataSchema(BasicSystemNotification.SCHEMA$.toString()).getRawSchema());
  notificationSchema.setType(type);
  notificationSchema.setName(generateString("Test Schema"));
  notificationSchema.setDescription(generateString("Test Desc"));
  if (strIsEmpty(appId)) {
    ApplicationDto applicationDto=createApplication();
    notificationSchema.setApplicationId(applicationDto.getId());
  }
 else {
    notificationSchema.setApplicationId(appId);
  }
  NotificationSchemaDto savedSchema=toDto(client.editNotificationSchema(toDataStruct(notificationSchema)));
  return savedSchema;
}
