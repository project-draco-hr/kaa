{
  ConfigurationSchemaDto configurationSchema=new ConfigurationSchemaDto();
  configurationSchema.setStatus(UpdateStatus.ACTIVE);
  DataSchema schema=new KaaSchemaFactoryImpl().createDataSchema(getResourceAsString(TEST_CONFIG_SCHEMA));
  configurationSchema.setSchema(schema.getRawSchema());
  configurationSchema.setName(generateString("Test Schema"));
  configurationSchema.setDescription(generateString("Test Desc"));
  if (strIsEmpty(applicationId)) {
    ApplicationDto application=createApplication();
    configurationSchema.setApplicationId(application.getId());
  }
 else {
    configurationSchema.setApplicationId(applicationId);
  }
  ConfigurationSchemaDto savedConfigurationSchema=toDto(client.editConfigurationSchema(toDataStruct(configurationSchema)));
  return savedConfigurationSchema;
}
