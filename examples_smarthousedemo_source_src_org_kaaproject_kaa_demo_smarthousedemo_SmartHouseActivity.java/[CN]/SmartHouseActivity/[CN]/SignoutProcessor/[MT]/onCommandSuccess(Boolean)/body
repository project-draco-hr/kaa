{
  detachDeviceKeys.remove(detachDeviceKeys.size() - 1);
  if (!detachDeviceKeys.isEmpty()) {
    processSignout();
  }
 else {
    this.progress.dismiss();
    SmartHouseActivity.this.runOnUiThread(new Runnable(){
      @Override public void run(){
        mDeviceStore.deleteAllDevices();
        mUsername=null;
        SharedPreferences sp=PreferenceManager.getDefaultSharedPreferences(SmartHouseActivity.this);
        Editor editor=sp.edit();
        editor.putString(LoginActivity.USERNAME_PREF,mUsername);
        editor.commit();
        login();
      }
    }
);
  }
}
