{
  if (getSupportFragmentManager().getBackStackEntryCount() > 0) {
    popBackStack();
  }
 else   if (!isNavigationDrawerOpen() && mSmartHouseFragment != null && !mSmartHouseFragment.isHomeSelected()) {
    mSmartHouseFragment.switchToHome();
  }
 else {
    super.onBackPressed();
  }
}
