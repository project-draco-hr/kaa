{
  mDeviceStore=new DeviceStore(this);
  mSmartHouseController=new SmartHouseController(this,null,mUsername,mDeviceStore);
  mNavigationDrawerFragment=(SmartHouseDrawerFragment)getSupportFragmentManager().findFragmentById(R.id.navigation_drawer);
  mTitle=getTitle();
  mNavigationDrawerFragment.setUp(R.id.navigation_drawer,(DrawerLayout)findViewById(R.id.drawer_layout),mUsername);
  mProgessFragment=ProgressFragment.newInstance(true);
  FragmentManager fragmentManager=getSupportFragmentManager();
  fragmentManager.beginTransaction().replace(R.id.container,mProgessFragment).commit();
  mSmartHouseController.init(new InitCallback());
}
