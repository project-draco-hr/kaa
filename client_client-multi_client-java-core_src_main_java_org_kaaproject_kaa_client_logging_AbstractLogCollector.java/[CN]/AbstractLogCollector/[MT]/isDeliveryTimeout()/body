{
  boolean isTimeout=false;
  long currentTime=System.currentTimeMillis();
  for (  Map.Entry<Integer,Long> logRequest : timeoutMap.entrySet()) {
    if (currentTime >= logRequest.getValue()) {
      isTimeout=true;
      break;
    }
  }
  if (isTimeout) {
    LOG.info("Log delivery timeout detected");
    for (    Map.Entry<Integer,Long> logRequest : timeoutMap.entrySet()) {
      storage.notifyUploadFailed(logRequest.getKey());
    }
    timeoutMap.clear();
    final LogFailoverCommand controller=this.controller;
    executorContext.getCallbackExecutor().execute(new Runnable(){
      @Override public void run(){
        strategy.onTimeout(controller);
      }
    }
);
  }
  return isTimeout;
}
