{
  try {
    final Bot bot=new Bot(new TestBTDriver());
    assertNotNull(bot);
    assertNotNull(bot.getExecutor());
    final Object objSync=new Object();
    OK=false;
    bot.registerErrorCallback(new ErrorCallback(){
      @Override public void error(      Exception exception){
        fail(exception.toString());
      }
    }
);
    bot.registerPingCallback(new PingCallback(){
      @Override public void pong(      PongStatus status){
        if (status == PongStatus.WALL) {
          fail("Pong status failed");
        }
        OK=true;
      }
    }
);
    bot.start();
    bot.ping();
synchronized (objSync) {
      objSync.wait(2000);
    }
    if (!OK) {
      fail("Ping failed");
    }
  }
 catch (  Exception e) {
    fail(e.toString());
  }
}
