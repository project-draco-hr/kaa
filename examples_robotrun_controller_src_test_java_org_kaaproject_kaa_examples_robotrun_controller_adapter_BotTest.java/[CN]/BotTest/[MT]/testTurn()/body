{
  try {
    final Bot bot=new Bot(new TestBTDriver());
    assertNotNull(bot);
    assertNotNull(bot.getExecutor());
    final Object objSync=new Object();
    OK=false;
    bot.registerErrorCallback(new ErrorCallback(){
      @Override public void error(      Exception exception){
        fail(exception.toString());
      }
    }
);
    bot.registerTurnCallback(new TurnCallback(){
      @Override public void complete(      OperationStatus status){
        if (status != OperationStatus.SUCESSFULL) {
          fail("Turn command failed");
        }
        OK=true;
synchronized (objSync) {
          objSync.notify();
        }
      }
    }
);
    bot.start();
    bot.turn(TurnDirection.LEFT,false);
    bot.turn(TurnDirection.RIGHT,false);
synchronized (objSync) {
      objSync.wait(2000);
    }
    if (!OK) {
      fail("Turn left failed");
    }
    OK=false;
synchronized (objSync) {
      objSync.wait(2000);
    }
    if (!OK) {
      fail("Turn right failed");
    }
  }
 catch (  Exception e) {
    fail(e.toString());
  }
}
