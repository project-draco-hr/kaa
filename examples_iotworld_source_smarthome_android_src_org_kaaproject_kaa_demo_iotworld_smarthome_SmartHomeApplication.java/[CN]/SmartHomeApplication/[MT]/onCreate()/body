{
  super.onCreate();
  mEventBus=new EventBus();
  KaaClientPlatformContext kaaClientContext=new AndroidKaaPlatformContext(this);
  mClient=Kaa.newClient(kaaClientContext,new SimpleKaaClientStateListener(){
    @Override public void onStarted(){
      mKaaStarted=true;
      mEventBus.post(new KaaStartedEvent());
      LOG.info("Kaa client started");
    }
    @Override public void onResume(){
      LOG.info("Kaa client resumed");
    }
  }
);
  mController=new SmartHomeController(this,mClient,mEventBus);
  mDeviceStore=new DeviceStore(this,mClient,mEventBus);
  mClient.start();
}
