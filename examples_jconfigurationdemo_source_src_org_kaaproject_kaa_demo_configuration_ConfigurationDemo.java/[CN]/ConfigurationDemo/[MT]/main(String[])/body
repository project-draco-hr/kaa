{
  LOG.info("Configuration demo application has started");
  DesktopKaaPlatformContext desktopKaaPlatformContext=new DesktopKaaPlatformContext();
  kaaClient=Kaa.newClient(desktopKaaPlatformContext,new SimpleKaaClientStateListener(){
    @Override public void onStarted(){
      super.onStarted();
      displayConfiguration();
    }
  }
);
  kaaClient.setConfigurationStorage(new SimpleConfigurationStorage(desktopKaaPlatformContext,"saved_config.cfg"));
  kaaClient.addConfigurationListener(new ConfigurationListener(){
    @Override public void onConfigurationUpdate(    SampleConfiguration sampleConfiguration){
      LOG.info("Configuration was updated");
      displayConfiguration();
    }
  }
);
  kaaClient.start();
  try {
    System.in.read();
  }
 catch (  IOException e) {
    LOG.error("IOException was caught",e);
  }
  kaaClient.stop();
  LOG.info("Configuration demo application has finished");
}
