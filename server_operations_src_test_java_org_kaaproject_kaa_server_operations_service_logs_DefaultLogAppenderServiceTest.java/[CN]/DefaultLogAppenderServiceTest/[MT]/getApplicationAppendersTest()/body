{
  ApplicationDto dto=new ApplicationDto();
  dto.setApplicationToken(APPLICATION_TOKEN);
  dto.setTenantId(TENANT_ID);
  dto.setLogAppendersNames(APPENDER_NAME);
  when(applicationService.findAppById(APPLICATION_ID)).thenReturn(dto);
  when(applicationService.findAppById(APPLICATION_ID)).thenReturn(dto);
  when(logAppendersService.findRegisteredLogAppendersByAppId(APPLICATION_ID)).thenReturn(Arrays.asList(new LogAppenderDto()));
  when(logAppenderResolver.getAppender(any(LogAppenderDto.class))).thenReturn(mongoDBLogAppender);
  List<LogAppender> appenders=logAppenderService.getApplicationAppenders(APPLICATION_ID,APPLICATION_TOKEN);
  Assert.assertEquals(1,appenders.size());
  Assert.assertEquals(mongoDBLogAppender.getName(),appenders.get(0).getName());
}
