{
  ContentValues values=new ContentValues();
  values.put(DeviceSqlLiteHelper.COLUMN_ENDPOINT_KEY,device.getEndpointKey());
  values.put(DeviceSqlLiteHelper.COLUMN_DEVICE_TYPE,device.getDeviceType().name());
  values.put(DeviceSqlLiteHelper.COLUMN_DEVICE_NAME,device.getDeviceName());
  long insertId=database.insert(DeviceSqlLiteHelper.TABLE_DEVICES,null,values);
  Cursor cursor=database.query(DeviceSqlLiteHelper.TABLE_DEVICES,allColumns,DeviceSqlLiteHelper.COLUMN_ID + " = " + insertId,null,null,null,null);
  cursor.moveToFirst();
  SmartDeviceInfo newDevice=cursorToDevice(cursor);
  cursor.close();
  return newDevice;
}
