{
  if (request == null || command == null) {
    throw new BadRequestException("Error processing");
  }
  SpecificRecordBase response=null;
  if (request instanceof SyncRequest) {
    OperationsHttpServerIT.SyncTestSetRequestReceived(((SyncRequest)request).getConfigurationSyncRequest().getAppStateSeqNumber().intValue(),(SyncRequest)request);
    response=endpointService.sync((SyncRequest)request).getResponse();
    OperationsHttpServerIT.SyncTestSetResponseSent(((SyncRequest)request).getConfigurationSyncRequest().getAppStateSeqNumber().intValue(),(SyncResponse)response);
  }
 else {
    throw new BadRequestException("invalid instance of request");
  }
  return response;
}
