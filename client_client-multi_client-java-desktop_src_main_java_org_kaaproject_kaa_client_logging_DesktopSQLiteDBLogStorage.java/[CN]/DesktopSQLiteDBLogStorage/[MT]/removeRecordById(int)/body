{
synchronized (connection) {
    LOG.trace("Removing log record with id [{}]",recordId);
    if (deleteByRecordIdStatement == null) {
      try {
        deleteByRecordIdStatement=connection.prepareStatement(PersistentLogStorageStorageInfo.KAA_DELETE_BY_RECORD_ID);
      }
 catch (      SQLException e) {
        LOG.error("Can't create log remove statement",e);
        throw new RuntimeException(e);
      }
    }
    try {
      deleteByRecordIdStatement.setInt(1,recordId);
      if (deleteByRecordIdStatement.executeUpdate() > 0) {
        recordCount--;
        LOG.info("Removed log record with id [{}]",recordId);
      }
 else {
        LOG.warn("No log record was removed");
      }
    }
 catch (    SQLException e) {
      LOG.error("Failed to remove a log record by recordId [{}]",recordId,e);
    }
  }
}
