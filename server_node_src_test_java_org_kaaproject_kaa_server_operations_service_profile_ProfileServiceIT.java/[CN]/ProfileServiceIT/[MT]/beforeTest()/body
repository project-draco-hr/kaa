{
  clearDBData();
  tenant=new Tenant();
  tenant.setName(CUSTOMER_NAME);
  tenant=customerDao.save(tenant);
  application=new Application();
  application.setName(APP_NAME);
  application.setApplicationToken(APP_TOKEN);
  application.setTenant(tenant);
  application=applicationDao.save(application);
  CTLSchemaMetaInfo metaInfo=new CTLSchemaMetaInfo();
  metaInfo.setVersion(1);
  metaInfo.setFqn(EmptyData.SCHEMA$.getFullName());
  metaInfo.setScope(CTLSchemaScopeDto.PROFILE_SCHEMA);
  metaInfo=ctlSchemaMetaInfoDao.save(metaInfo);
  CTLSchema ctlSchema=new CTLSchema();
  ctlSchema.setTenant(tenant);
  ctlSchema.setApplication(application);
  ctlSchema.setBody(EmptyData.SCHEMA$.toString());
  ctlSchema.setDependencySet(new HashSet<CTLSchema>());
  ctlSchema.setMetaInfo(metaInfo);
  ctlSchema=ctlSchemaDao.save(ctlSchema);
  endpointProfileSchema=new EndpointProfileSchema();
  endpointProfileSchema.setVersion(PROFILE_SCHEMA_VERSION);
  endpointProfileSchema.setCtlSchema(ctlSchema);
  endpointProfileSchema.setApplication(application);
  endpointProfileSchema=profileSchemaDao.save(endpointProfileSchema);
  metaInfo=new CTLSchemaMetaInfo();
  metaInfo.setVersion(1);
  metaInfo.setFqn(BasicEndpointProfile.SCHEMA$.getFullName());
  metaInfo.setScope(CTLSchemaScopeDto.PROFILE_SCHEMA);
  metaInfo=ctlSchemaMetaInfoDao.save(metaInfo);
  ctlSchema=new CTLSchema();
  ctlSchema.setTenant(tenant);
  ctlSchema.setApplication(application);
  ctlSchema.setBody(BasicEndpointProfile.SCHEMA$.toString());
  ctlSchema.setDependencySet(new HashSet<CTLSchema>());
  ctlSchema.setMetaInfo(metaInfo);
  ctlSchema=ctlSchemaDao.save(ctlSchema);
  endpointProfileSchema2=new EndpointProfileSchema();
  endpointProfileSchema2.setVersion(NEW_PROFILE_SCHEMA_VERSION);
  endpointProfileSchema2.setCtlSchema(ctlSchema);
  endpointProfileSchema2.setApplication(application);
  endpointProfileSchema2=profileSchemaDao.save(endpointProfileSchema2);
  SdkProfileDto sdkPropertiesDto=new SdkProfileDto();
  sdkPropertiesDto.setApplicationId(application.getStringId());
  sdkPropertiesDto.setProfileSchemaVersion(endpointProfileSchema.getVersion());
  sdkPropertiesDto.setConfigurationSchemaVersion(1);
  sdkPropertiesDto.setNotificationSchemaVersion(1);
  sdkPropertiesDto.setLogSchemaVersion(1);
  sdkPropertiesDto.setApplicationToken(APP_TOKEN);
  sdkPropertiesDto=sdkProfileService.saveSdkProfile(sdkPropertiesDto);
  sdkToken=new SdkProfile(sdkPropertiesDto).getToken();
  SdkProfileDto newSdkProfileDto=new SdkProfileDto();
  newSdkProfileDto.setApplicationId(application.getStringId());
  newSdkProfileDto.setProfileSchemaVersion(endpointProfileSchema2.getVersion());
  newSdkProfileDto.setConfigurationSchemaVersion(1);
  newSdkProfileDto.setNotificationSchemaVersion(1);
  newSdkProfileDto.setLogSchemaVersion(1);
  newSdkProfileDto.setApplicationToken(APP_TOKEN);
  newSdkProfileDto=sdkProfileService.saveSdkProfile(newSdkProfileDto);
  newSdkToken=new SdkProfile(newSdkProfileDto).getToken();
}
