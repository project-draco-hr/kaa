{
  clearDBData();
  tenant=new Tenant();
  tenant.setName(CUSTOMER_NAME);
  tenant=customerDao.save(tenant);
  application=new Application();
  application.setName(APP_NAME);
  application.setApplicationToken(APP_TOKEN);
  application.setTenant(tenant);
  application=applicationDao.save(application);
  profileSchema=new ProfileSchema();
  profileSchema.setMajorVersion(PROFILE_SCHEMA_VERSION);
  profileSchema.setMinorVersion(0);
  profileSchema.setSchema(Profile.SCHEMA$.toString());
  profileSchema.setApplication(application);
  profileSchema=profileSchemaDao.save(profileSchema);
  profileSchema2=new ProfileSchema();
  profileSchema2.setMajorVersion(NEW_PROFILE_SCHEMA_VERSION);
  profileSchema2.setMinorVersion(0);
  profileSchema2.setSchema(BasicEndpointProfile.SCHEMA$.toString());
  profileSchema2.setApplication(application);
  profileSchema2=profileSchemaDao.save(profileSchema2);
  SdkProfileDto sdkPropertiesDto=new SdkProfileDto();
  sdkPropertiesDto.setApplicationId(application.getStringId());
  sdkPropertiesDto.setProfileSchemaVersion(profileSchema.getMajorVersion());
  sdkPropertiesDto.setConfigurationSchemaVersion(1);
  sdkPropertiesDto.setNotificationSchemaVersion(1);
  sdkPropertiesDto.setLogSchemaVersion(1);
  sdkPropertiesDto.setApplicationToken(APP_TOKEN);
  sdkPropertiesDto=sdkProfileService.saveSdkProfile(sdkPropertiesDto);
  sdkToken=new SdkProfile(sdkPropertiesDto).getToken();
  SdkProfileDto newSdkProfileDto=new SdkProfileDto();
  newSdkProfileDto.setApplicationId(application.getStringId());
  newSdkProfileDto.setProfileSchemaVersion(profileSchema2.getMajorVersion());
  newSdkProfileDto.setConfigurationSchemaVersion(1);
  newSdkProfileDto.setNotificationSchemaVersion(1);
  newSdkProfileDto.setLogSchemaVersion(1);
  newSdkProfileDto.setApplicationToken(APP_TOKEN);
  newSdkProfileDto=sdkProfileService.saveSdkProfile(newSdkProfileDto);
  newSdkToken=new SdkProfile(newSdkProfileDto).getToken();
}
