{
  clearDBData();
  tenant=new TenantDto();
  tenant.setName(CUSTOMER_NAME);
  tenant=userService.saveTenant(tenant);
  application=new ApplicationDto();
  application.setName(APP_NAME);
  application.setTenantId(tenant.getId());
  application=applicationService.saveApp(application);
  CTLSchemaMetaInfoDto ctl1MetaDataDto=new CTLSchemaMetaInfoDto();
  ctl1MetaDataDto.setVersion(2);
  ctl1MetaDataDto.setFqn(EmptyData.SCHEMA$.getFullName());
  ctl1MetaDataDto.setScope(CTLSchemaScopeDto.PROFILE_SCHEMA);
  CTLSchemaDto ctl1SchemaDto=new CTLSchemaDto();
  ctl1SchemaDto.setApplicationId(application.getId());
  ctl1SchemaDto.setBody(EmptyData.SCHEMA$.toString());
  ctl1SchemaDto.setMetaInfo(ctl1MetaDataDto);
  ctl1SchemaDto=ctlService.saveCTLSchema(ctl1SchemaDto);
  schema1Dto=new EndpointProfileSchemaDto();
  schema1Dto.setVersion(PROFILE_SCHEMA_VERSION);
  schema1Dto.setCtlSchemaId(ctl1SchemaDto.getId());
  schema1Dto.setApplicationId(application.getId());
  schema1Dto=daoProfileService.saveProfileSchema(schema1Dto);
  CTLSchemaMetaInfoDto ctl2MetaDataDto=new CTLSchemaMetaInfoDto();
  ctl2MetaDataDto.setVersion(2);
  ctl2MetaDataDto.setFqn(BasicEndpointProfile.SCHEMA$.getFullName());
  ctl2MetaDataDto.setScope(CTLSchemaScopeDto.PROFILE_SCHEMA);
  CTLSchemaDto ctl2SchemaDto=new CTLSchemaDto();
  ctl2SchemaDto.setApplicationId(application.getId());
  ctl2SchemaDto.setBody(BasicEndpointProfile.SCHEMA$.toString());
  ctl2SchemaDto.setMetaInfo(ctl2MetaDataDto);
  ctl2SchemaDto=ctlService.saveCTLSchema(ctl2SchemaDto);
  schema2Dto=new EndpointProfileSchemaDto();
  schema2Dto.setVersion(NEW_PROFILE_SCHEMA_VERSION);
  schema2Dto.setCtlSchemaId(ctl2SchemaDto.getId());
  schema2Dto.setApplicationId(application.getId());
  schema2Dto=daoProfileService.saveProfileSchema(schema2Dto);
  SdkProfileDto sdkPropertiesDto=new SdkProfileDto();
  sdkPropertiesDto.setApplicationId(application.getId());
  sdkPropertiesDto.setProfileSchemaVersion(PROFILE_SCHEMA_VERSION);
  sdkPropertiesDto.setConfigurationSchemaVersion(1);
  sdkPropertiesDto.setNotificationSchemaVersion(1);
  sdkPropertiesDto.setLogSchemaVersion(1);
  sdkPropertiesDto.setApplicationToken(application.getApplicationToken());
  sdkPropertiesDto=sdkProfileService.saveSdkProfile(sdkPropertiesDto);
  sdkToken=new SdkProfile(sdkPropertiesDto).getToken();
  SdkProfileDto newSdkProfileDto=new SdkProfileDto();
  newSdkProfileDto.setApplicationId(application.getId());
  newSdkProfileDto.setProfileSchemaVersion(NEW_PROFILE_SCHEMA_VERSION);
  newSdkProfileDto.setConfigurationSchemaVersion(1);
  newSdkProfileDto.setNotificationSchemaVersion(1);
  newSdkProfileDto.setLogSchemaVersion(1);
  newSdkProfileDto.setApplicationToken(application.getApplicationToken());
  newSdkProfileDto=sdkProfileService.saveSdkProfile(newSdkProfileDto);
  newSdkToken=new SdkProfile(newSdkProfileDto).getToken();
}
