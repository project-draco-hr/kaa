{
  if (isInitialized) {
    return;
  }
  this.bootstrapServers=properties.getBootstrapServers();
  if (bootstrapServers == null || bootstrapServers.isEmpty()) {
    throw new RuntimeException("Unable to obtain list of bootstrap servers.");
  }
  BootstrapServerInfo bootstrapServer=bootstrapServers.get(0);
  this.bootstrapManager.setTransport(initBootstrapTransport(bootstrapServer));
  this.bootstrapManager.receiveOperationsServerList();
  OperationsServerInfo operationsServer=this.bootstrapManager.getNextOperationsServer();
  LOG.info("Starting with endpoint server {}",operationsServer.getHostName());
  this.updateManager.setTransport(initOperationsTransport(operationsServer));
  this.updateManager.setTransportExceptionHandler(new DefaultTransportExceptionHandler(bootstrapManager,updateManager,kaaClientState));
  this.updateManager.addUpdateListener(new NotificationUpdateListener(notificationManager));
  this.updateManager.addUpdateListener(new RedirectionUpdateListener(bootstrapManager,updateManager,kaaClientState));
  initKaaConfiguration();
  isInitialized=true;
}
