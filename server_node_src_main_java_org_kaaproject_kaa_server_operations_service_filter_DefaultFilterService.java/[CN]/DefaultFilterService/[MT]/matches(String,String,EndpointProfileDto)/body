{
  ProfileFilterDto filterDto=cacheService.getFilter(profileFilterId);
  AppProfileVersionsKey key=new AppProfileVersionsKey(appToken,profile.getClientProfileVersion(),profile.getServerProfileVersion());
  String endpointProfileSchemaBody=getEndpointProfileSchemaBody(key);
  String serverProfileSchemaBody=getServerProfileSchemaBody(key);
  FilterEvaluator filterEvaluator=new DefaultFilterEvaluator();
  filterEvaluator.init(profile,endpointProfileSchemaBody,serverProfileSchemaBody);
  LOG.trace("matching profile body with filter {}",filterEvaluator);
  return filterEvaluator.matches(filterDto);
}
