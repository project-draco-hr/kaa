{
  onSave();
  detailsView.clearError();
  if (create) {
    KaaAdmin.getAuthService().checkUserNameOccupied(entity.getUsername(),null,new AsyncCallback<ResultCode>(){
      @Override public void onFailure(      Throwable caught){
        Utils.handleException(caught,detailsView);
      }
      @Override public void onSuccess(      ResultCode result){
        if (result != ResultCode.OK) {
          detailsView.setErrorMessage(Utils.constants.getString(result.getResourceKey()));
        }
 else {
          checkEmail();
        }
      }
    }
);
  }
 else {
    checkEmail();
  }
}
