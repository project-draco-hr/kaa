{
  ProfileFilterDto filterDto=cacheService.getFilter(profileFilterId);
  AppVersionKey appProfileVersionKey=new AppVersionKey(appToken,filterDto.getMajorVersion());
  ProfileSchemaDto profileSchema=cacheService.getProfileSchemaByAppAndVersion(appProfileVersionKey);
  Filter filter=new DefaultFilter(filterDto.getBody(),profileSchema.getSchema());
  LOG.trace("matching profile body with filter {}",filter);
  return filter.matches(profileBody);
}
