{
  ProfileSchemaDto profileSchemaDto=new ProfileSchemaDto();
  profileSchemaDto.setApplicationId(appId);
  DataSchema schema=new KaaSchemaFactoryImpl().createDataSchema(getStringFromFile(DEFAULT_PROFILE_SCHEMA_FILE,ApplicationServiceImpl.class));
  if (!schema.isEmpty()) {
    profileSchemaDto.setSchema(schema.getRawSchema());
  }
 else {
    throw new RuntimeException("Can't read default profile schema.");
  }
  profileSchemaDto.setName(DEFAULT_SCHEMA_NAME);
  profileSchemaDto.setCreatedUsername(createdUsername);
  profileSchemaDto=profileService.saveProfileSchema(profileSchemaDto);
  if (profileSchemaDto != null) {
    return profileService.findLatestFilterBySchemaIdAndGroupId(profileSchemaDto.getId(),groupId);
  }
 else {
    throw new RuntimeException("Can't save default profile schema " + profileSchemaDto);
  }
}
