{
  super.doDrawing(g2d);
  g2d.setStroke(ROBOT_STROKE);
  for (  String key : robotPositions.keySet()) {
    RobotPosition position=robotPositions.get(key);
    Cell cell=position.getCell();
    int x=offsetX + cell.getX() * side + side / 4;
    int y=offsetY + cell.getY() * side + side / 4;
    g2d.setColor(new Color(key.hashCode()));
    g2d.fillOval(x,y,side / 2,side / 2);
    g2d.setColor(robotStrokeColor);
    g2d.drawOval(x,y,side / 2,side / 2);
    String text=position.getName();
    g2d.setColor(robotTextColor);
    g2d.setFont(textFont);
    FontMetrics fm=g2d.getFontMetrics();
    int fontSize=textFont.getSize();
    int textHeight=side / 4;
    while (fm.getHeight() > textHeight) {
      fontSize--;
      g2d.setFont(new Font("Dialog",Font.BOLD,fontSize));
      fm=g2d.getFontMetrics();
    }
    while (fm.stringWidth(text) + 5 > side) {
      fontSize--;
      g2d.setFont(new Font("Dialog",Font.BOLD,fontSize));
      fm=g2d.getFontMetrics();
    }
    int textX=x + (side / 2 - fm.stringWidth(text)) / 2;
    int textY=offsetY + cell.getY() * side + fm.getHeight();
    g2d.drawString(text,textX,textY);
  }
}
