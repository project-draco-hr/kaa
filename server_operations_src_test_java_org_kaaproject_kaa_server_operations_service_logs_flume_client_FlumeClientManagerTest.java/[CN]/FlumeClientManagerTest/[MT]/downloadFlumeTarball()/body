{
  File flume=new File(TMP_DIR + "/" + FLUME_GZIP_FILE_NAME);
  if (!flume.exists()) {
    HttpClient client=new DefaultHttpClient();
    HttpGet get=new HttpGet(FLUME_TARBALL_URL);
    HttpResponse response=client.execute(get);
    InputStream stream=response.getEntity().getContent();
    Files.write(stream,flume);
  }
  System.setProperty(StagedInstall.PROP_PATH_TO_DIST_TARBALL,flume.getAbsolutePath());
  System.setProperty(StagedInstall.ENV_FLUME_LOG_DIR,FLUME_LOG_DIR);
  System.setProperty(StagedInstall.ENV_FLUME_LOG_FILE,FLUME_LOG_FILE);
  return flume;
}
