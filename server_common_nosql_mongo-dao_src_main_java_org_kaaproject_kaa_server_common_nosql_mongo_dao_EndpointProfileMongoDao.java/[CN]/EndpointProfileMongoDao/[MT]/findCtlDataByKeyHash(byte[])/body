{
  CTLDataDto ctlData=null;
  LOG.debug("Trying to find ctl data by endpoint key hash {}",keyHash);
  Query query=Query.query(where(EP_ENDPOINT_KEY_HASH).is(keyHash));
  query.fields().include(EP_SERVER_PROFILE_ID_PROPERTY).include(EP_SERVER_PROFILE_PROPERTY);
  MongoEndpointProfile pf=mongoTemplate.findOne(query,getDocumentClass());
  if (pf != null) {
    ctlData=new CTLDataDto(pf.getServerProfileSchemaId(),pf.getServerProfile());
  }
  LOG.debug("[{}] Found ctl data {}",keyHash,ctlData);
  return ctlData;
}
