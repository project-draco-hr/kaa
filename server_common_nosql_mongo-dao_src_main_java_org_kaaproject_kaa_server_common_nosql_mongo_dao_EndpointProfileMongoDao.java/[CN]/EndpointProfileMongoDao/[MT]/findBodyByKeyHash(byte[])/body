{
  LOG.debug("Find client- and server-side endpoint profile bodies by endpoint key hash [{}] ",endpointKeyHash);
  EndpointProfileBodyDto endpointProfileBodyDto=null;
  Query query=Query.query(where(EP_ENDPOINT_KEY_HASH).is(endpointKeyHash));
  query.fields().include(DaoConstants.PROFILE).include(EP_SERVER_PROFILE_PROPERTY).include(EP_APPLICATION_ID);
  MongoEndpointProfile pf=mongoTemplate.findOne(query,getDocumentClass());
  if (pf != null) {
    endpointProfileBodyDto=new EndpointProfileBodyDto(endpointKeyHash,pf.getProfileAsString(),pf.getServerProfile(),pf.getApplicationId());
  }
  return endpointProfileBodyDto;
}
