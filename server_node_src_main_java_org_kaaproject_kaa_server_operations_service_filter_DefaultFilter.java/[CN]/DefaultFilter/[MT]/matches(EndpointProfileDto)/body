{
  GenericRecord serverProfileGenericRecord=null;
  GenericRecord clientProfileGenericRecord=null;
  try {
    if (profile.getServerProfileBody() != null) {
      serverProfileGenericRecord=avroConverter.decodeJson(profile.getServerProfileBody());
    }
    if (profile.getClientProfileBody() != null) {
      clientProfileGenericRecord=avroConverter.decodeJson(profile.getClientProfileBody());
    }
  }
 catch (  IOException ioe) {
    LOG.error("Error decoding avro object from Json string",ioe);
    return false;
  }
  StandardEvaluationContext evaluationContext=new StandardEvaluationContext(clientProfileGenericRecord);
  evaluationContext.addPropertyAccessor(new GenericRecordPropertyAccessor());
  evaluationContext.setVariable(CLIENT_PROFILE_VARIABLE_NAME,clientProfileGenericRecord);
  evaluationContext.setVariable(SERVER_PROFILE_VARIABLE_NAME,serverProfileGenericRecord);
  evaluationContext.setVariable(EP_KEYHASH_VARIABLE_NAME,Base64Util.encode(profile.getEndpointKeyHash()));
  return expression.getValue(evaluationContext,Boolean.class);
}
