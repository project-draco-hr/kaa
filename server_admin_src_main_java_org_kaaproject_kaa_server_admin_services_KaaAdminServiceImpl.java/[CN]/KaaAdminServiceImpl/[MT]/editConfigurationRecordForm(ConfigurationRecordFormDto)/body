{
  checkAuthority(KaaAuthorityDto.TENANT_DEVELOPER,KaaAuthorityDto.TENANT_USER);
  try {
    ConfigurationDto toSave=toConfigurationDto(configuration);
    ConfigurationDto stored=editConfiguration(toSave);
    return toConfigurationRecordFormDto(stored);
  }
 catch (  StaleObjectStateException e) {
    throw new KaaAdminServiceException("Someone has already updated the configuration. Reload page to be able to edit it.",ServiceErrorCode.GENERAL_ERROR);
  }
catch (  Exception e) {
    throw Utils.handleException(e);
  }
}
