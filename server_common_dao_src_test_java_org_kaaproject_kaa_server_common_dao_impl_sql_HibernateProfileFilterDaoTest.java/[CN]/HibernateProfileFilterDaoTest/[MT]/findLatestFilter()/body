{
  List<ProfileFilter> filters=generateFilter(null,null,1,UpdateStatus.ACTIVE);
  Assert.assertEquals(1,filters.size());
  ProfileFilter first=filters.get(0);
  EndpointGroup group=first.getEndpointGroup();
  EndpointProfileSchema schema=first.getProfileSchema();
  generateFilter(schema,group,3,UpdateStatus.DEPRECATED);
  generateFilter(schema,group,1,UpdateStatus.INACTIVE);
  ProfileFilter found=profileFilterDao.findLatestFilter(schema.getId().toString(),group.getId().toString());
  Assert.assertEquals(first,found);
}
