{
  uniqId=rnd.nextInt(1000);
  LOG.info("Neighbors instance {} created",uniqId);
  this.eventService=eventService;
  neigbors=new Hashtable<>();
synchronized (zkNodeSetSync) {
    if (zkNode != null) {
      LOG.debug("Neighbors instance {} ZK node set(without timer), init() startig....",uniqId);
      initZK();
    }
 else {
      timerUpdate=new Timer();
      taskUpdate=new TimerTask(){
        @Override public void run(){
synchronized (zkNodeSetSync) {
            if (zkNode == null) {
              try {
                zkNodeSetSync.wait();
                LOG.debug("Neighbors instance {} ZK node set, init() startig....",uniqId);
                initZK();
              }
 catch (              InterruptedException e) {
                LOG.error("Wait to set ZK node, was interrupted. Error initializing EventService",e);
              }
            }
 else {
              LOG.debug("Neighbors instance {} ZK node set(without wait), init() startig....",uniqId);
              initZK();
            }
          }
        }
      }
;
      timerUpdate.schedule(taskUpdate,0);
    }
  }
}
