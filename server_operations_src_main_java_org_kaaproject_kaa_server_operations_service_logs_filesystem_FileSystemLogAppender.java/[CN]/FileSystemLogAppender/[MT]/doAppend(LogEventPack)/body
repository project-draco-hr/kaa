{
  if (!closed) {
    String path=logsRootPath + "/" + tenantDirName+ "/"+ applicationDirName;
    LOG.debug("[{}] appending {} logs to directory",path,logEventPack.getEvents().size());
    List<LogEventDto> dtos=new ArrayList<>(logEventPack.getEvents().size());
    GenericAvroConverter<GenericRecord> converter=getConverter(logEventPack.getLogSchema().getSchema());
    try {
      for (      LogEvent logEvent : logEventPack.getEvents()) {
        GenericRecord decodedLog=converter.decodeBinary(logEvent.getLogData());
        String encodedJsonLog=converter.endcodeToJson(decodedLog);
        dtos.add(new LogEventDto(logEventPack.getEndpointKey(),logEventPack.getDateCreated(),encodedJsonLog));
      }
    }
 catch (    IOException e) {
      LOG.error("Unexpected IOException while decoding LogEvents",e);
    }
    LOG.debug("[{}] saving {} objects",path,dtos.size());
    fileSystemLogEventService.save(dtos,logger,fileAppender);
    LOG.debug("[{}] appended {} logs to directory",path,logEventPack.getEvents().size());
  }
 else {
    LOG.info("Attempted to append to closed appender named [{}].",name);
  }
}
