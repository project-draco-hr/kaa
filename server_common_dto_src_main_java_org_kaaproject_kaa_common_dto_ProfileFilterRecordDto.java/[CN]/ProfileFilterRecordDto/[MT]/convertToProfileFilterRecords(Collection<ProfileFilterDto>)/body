{
  Map<ProfileVersionPairDto,ProfileFilterRecordDto> profileFiltterRecordsMap=new HashMap<>();
  for (  ProfileFilterDto profileFilter : profileFilters) {
    ProfileFilterRecordDto profileFilterRecord=profileFiltterRecordsMap.get(profileFilter.getProfileFilterVersionPair());
    if (profileFilterRecord == null) {
      profileFilterRecord=new ProfileFilterRecordDto();
      profileFiltterRecordsMap.put(profileFilter.getProfileFilterVersionPair(),profileFilterRecord);
    }
    if (profileFilter.getStatus() == UpdateStatus.ACTIVE) {
      profileFilterRecord.setActiveStructureDto(profileFilter);
    }
 else     if (profileFilter.getStatus() == UpdateStatus.INACTIVE) {
      profileFilterRecord.setInactiveStructureDto(profileFilter);
    }
  }
  return new ArrayList<>(profileFiltterRecordsMap.values());
}
