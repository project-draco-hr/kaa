{
  NotificationSchemaDto notificationSchema=new NotificationSchemaDto();
  notificationSchema.setName(generateString("Test Schema"));
  notificationSchema.setDescription(generateString("Test Desc"));
  notificationSchema.setType(type);
  if (strIsEmpty(appId)) {
    ApplicationDto applicationDto=createApplication(tenantAdminDto);
    notificationSchema.setApplicationId(applicationDto.getId());
  }
 else {
    notificationSchema.setApplicationId(appId);
  }
  CTLSchemaDto ctlSchema=this.createCTLSchema(this.ctlRandomFieldType(),CTL_DEFAULT_NAMESPACE,1,tenantAdminDto.getTenantId(),null,null,null);
  notificationSchema.setCtlSchemaId(ctlSchema.getId());
  loginTenantDeveloper(tenantDeveloperDto.getUsername());
  NotificationSchemaDto savedSchema=client.saveNotificationSchema(notificationSchema);
  return savedSchema;
}
