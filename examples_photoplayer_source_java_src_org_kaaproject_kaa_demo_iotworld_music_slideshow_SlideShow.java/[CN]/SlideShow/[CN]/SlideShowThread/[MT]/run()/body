{
  panel=new SlideShowPanel();
  panel.setBackground(frame.getBackground());
  panel.setSize(frame.getWidth(),frame.getHeight());
  frame.add(panel);
  while (!stopped) {
    try {
      LOG.info("Scheduling preview generation for next slide: {}",getNextIndex());
      changeAlpha((int)(panel.alpha * 100.0f),100,ALPHA_STEP,IMAGE_FADE,currentImage,nextImage);
      buildPreview(getNextIndex(),SlideShow.this);
      Thread.sleep(IMAGE_TIMEOUT);
      while (nextImage == null) {
        LOG.info("Waiting for next preview to be generated");
        Thread.sleep(WAIT_FOR_PREVIEW_SLEEP_TIME);
      }
      changeAlpha((int)(panel.alpha * 100),0,-ALPHA_STEP,IMAGE_FADE,currentImage,nextImage);
      currentIndex=getNextIndex();
      currentImage=nextImage;
      nextImage=null;
      repaint(panel,1.0f,currentImage,nextImage);
    }
 catch (    InterruptedException e) {
      LOG.warn("Slideshow thread interrupted",e);
    }
  }
}
