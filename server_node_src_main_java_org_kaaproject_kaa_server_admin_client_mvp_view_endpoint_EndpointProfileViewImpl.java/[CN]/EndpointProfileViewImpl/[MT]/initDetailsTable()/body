{
  saveButton.removeFromParent();
  cancelButton.removeFromParent();
  requiredFieldsNoteLabel.setVisible(false);
  int row=0;
  Label keyHashLabel=new Label(Utils.constants.endpointKeyHash());
  endpointKeyHash=new KaaAdminSizedTextBox(-1,false);
  endpointKeyHash.setWidth("100%");
  detailsTable.setWidget(row,0,keyHashLabel);
  detailsTable.setWidget(row,1,endpointKeyHash);
  userInfoList=new ArrayList<>();
  Label userIDLabel=new Label(Utils.constants.userId());
  userID=new KaaAdminSizedTextBox(-1,false);
  userID.setWidth("100%");
  detailsTable.setWidget(++row,0,userIDLabel);
  detailsTable.setWidget(row,1,userID);
  userInfoList.add(userIDLabel);
  userInfoList.add(userID);
  Label userExternalIDLabel=new Label(Utils.constants.userExternalId());
  userExternalID=new KaaAdminSizedTextBox(-1,false);
  userExternalID.setWidth("100%");
  detailsTable.setWidget(++row,0,userExternalIDLabel);
  detailsTable.setWidget(row,1,userExternalID);
  userInfoList.add(userExternalIDLabel);
  userInfoList.add(userExternalID);
  CaptionPanel formPanel=new CaptionPanel(Utils.constants.endpointProfile());
  FlexTable recordTable=new FlexTable();
  Label endpointProfSchemaLabel=new Label(Utils.constants.schemaName());
  endpointProfSchemaName=new Anchor();
  endpointProfSchemaName.getElement().getStyle().setCursor(Style.Cursor.POINTER);
  endpointProfSchemaName.setWidth("100%");
  recordTable.setWidget(0,0,endpointProfSchemaLabel);
  recordTable.setWidget(0,1,endpointProfSchemaName);
  endpointProfForm=new RecordPanel(new AvroWidgetsConfig.Builder().recordPanelWidth(700).createConfig(),Utils.constants.profile(),this,false,true);
  recordTable.setWidget(1,0,endpointProfForm);
  recordTable.getFlexCellFormatter().setColSpan(1,0,3);
  formPanel.add(recordTable);
  Label endpointProfLabel=new Label(Utils.constants.endpointProfile());
  detailsTable.setWidget(++row,0,endpointProfLabel);
  detailsTable.setWidget(++row,0,formPanel);
  endpointProfLabel.getElement().getParentElement().getStyle().setPropertyPx("paddingBottom",10);
  detailsTable.getFlexCellFormatter().setColSpan(row,0,3);
  formPanel.getElement().getParentElement().getStyle().setPropertyPx("paddingBottom",10);
  final CaptionPanel serverFormPanel=new CaptionPanel("Server profile");
  FlexTable serverRecordTable=new FlexTable();
  Label serverProfSchemaLabel=new Label(Utils.constants.schemaName());
  serverProfSchemaName=new Anchor();
  serverProfSchemaName.getElement().getStyle().setCursor(Style.Cursor.POINTER);
  serverProfSchemaName.setWidth("100%");
  serverRecordTable.setWidget(0,0,serverProfSchemaLabel);
  serverRecordTable.setWidget(0,1,serverProfSchemaName);
  serverProfForm=new RecordPanel(new AvroWidgetsConfig.Builder().recordPanelWidth(700).createConfig(),Utils.constants.profile(),this,false,true);
  serverRecordTable.setWidget(1,0,serverProfForm);
  serverRecordTable.getFlexCellFormatter().setColSpan(1,0,3);
  serverFormPanel.add(serverRecordTable);
  Label serverProfLabel=new Label("Server profile");
  detailsTable.setWidget(++row,0,serverProfLabel);
  detailsTable.setWidget(++row,0,serverFormPanel);
  serverProfLabel.getElement().getParentElement().getStyle().setPropertyPx("paddingBottom",10);
  detailsTable.getFlexCellFormatter().setColSpan(row,0,3);
  serverFormPanel.getElement().getParentElement().getStyle().setPropertyPx("paddingBottom",10);
  HorizontalPanel buttonsPanel=new HorizontalPanel();
  buttonsPanel.setSpacing(15);
  addServerSchemaButton=new Button("Add schema");
  deleteButton=new Button("Delete");
  editButton=new Button("Edit");
  buttonsPanel.add(addServerSchemaButton);
  buttonsPanel.add(deleteButton);
  buttonsPanel.add(editButton);
  detailsTable.setWidget(++row,0,buttonsPanel);
  buttonsPanel.getElement().getParentElement().getStyle().setPropertyPx("paddingBottom",10);
  final FormPopup serverProfPopup=new FormPopup();
  saveProfileButton=new Button("Save");
  serverProfPopup.addButton(saveProfileButton);
  Button closeServerProfPopupButton=new Button(Utils.constants.close());
  serverProfPopup.addButton(closeServerProfPopupButton);
  closeServerProfPopupButton.addClickHandler(new ClickHandler(){
    @Override public void onClick(    ClickEvent clickEvent){
      serverProfPopup.hide();
    }
  }
);
  FlexTable popupFlexTable=new FlexTable();
  final HorizontalPanel listBoxPanel=new HorizontalPanel();
  listBoxPanel.setSpacing(15);
  Label serverProfListLabel=new Label("Profile schema");
  serverSchemasListBox=new ServerProfileSchemasInfoListBox();
  serverSchemasListBox.getElement().getStyle().setPropertyPx("minWidth",100);
  listBoxPanel.add(serverProfListLabel);
  listBoxPanel.add(serverSchemasListBox);
  popupFlexTable.setWidget(0,0,listBoxPanel);
  CaptionPanel recordPanel=new CaptionPanel("Server profile");
  serverProfEditor=new RecordFieldWidget(new AvroWidgetsConfig.Builder().recordPanelWidth(700).createConfig());
  serverProfEditor.getElement().getStyle().setPropertyPx("minHeight",400);
  recordPanel.add(serverProfEditor);
  recordPanel.getElement().getStyle().setPropertyPx("minWidth",700);
  popupFlexTable.setWidget(1,0,recordPanel);
  popupFlexTable.getFlexCellFormatter().setColSpan(1,0,2);
  serverProfPopup.add(popupFlexTable);
  addServerSchemaButton.addClickHandler(new ClickHandler(){
    @Override public void onClick(    ClickEvent clickEvent){
      listBoxPanel.setVisible(true);
      serverProfPopup.center();
      serverProfPopup.show();
    }
  }
);
  saveProfileButton.addClickHandler(new ClickHandler(){
    @Override public void onClick(    ClickEvent clickEvent){
      serverProfPopup.hide();
    }
  }
);
  editButton.addClickHandler(new ClickHandler(){
    @Override public void onClick(    ClickEvent clickEvent){
      listBoxPanel.setVisible(false);
      serverProfPopup.center();
      serverProfPopup.show();
    }
  }
);
  groupsGrid=new EndpointGroupGrid(true);
  groupsGrid.setSize("700px","200px");
  Label groupsLabel=new Label(Utils.constants.endpointGroups());
  detailsTable.setWidget(++row,0,groupsLabel);
  groupsLabel.getElement().getParentElement().getStyle().setPropertyPx("paddingBottom",10);
  detailsTable.setWidget(++row,0,groupsGrid);
  groupsGrid.getElement().getParentElement().getStyle().setPropertyPx("paddingBottom",10);
  detailsTable.getFlexCellFormatter().setColSpan(row,0,3);
  topicsGrid=new TopicGrid(false,true);
  topicsGrid.setSize("700px","200px");
  Label topicLabel=new Label(Utils.constants.subscribedOnNfTopics());
  topicLabel.addStyleName(Utils.kaaAdminStyle.bAppContentTitleLabel());
  detailsTable.setWidget(++row,0,topicLabel);
  detailsTable.getFlexCellFormatter().setColSpan(row,0,3);
  topicLabel.getElement().getParentElement().getStyle().setPropertyPx("paddingBottom",10);
  detailsTable.setWidget(++row,0,topicsGrid);
  detailsTable.getFlexCellFormatter().setColSpan(row,0,3);
  topicsGrid.getElement().getParentElement().getStyle().setPropertyPx("paddingBottom",10);
}
