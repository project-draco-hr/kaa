{
  if (System.getProperty("user.home") != null && new File(System.getProperty("user.home")).exists()) {
    FileSystemLogEventService logEventService=new FileSystemLogEventServiceImpl();
    String tempDir=System.getProperty("user.home") + "/temp_dir_" + System.currentTimeMillis();
    File file=new File(tempDir);
    logEventService.createDirectory(tempDir);
    Logger testLogger=Mockito.mock(Logger.class);
    Field field=logEventService.getClass().getDeclaredField("LOG");
    field.setAccessible(true);
    Field modifiersField=Field.class.getDeclaredField("modifiers");
    modifiersField.setAccessible(true);
    modifiersField.setInt(field,field.getModifiers() & ~Modifier.FINAL);
    field.set(null,testLogger);
    Assert.assertTrue(file.exists());
    logEventService.createDirectory(tempDir);
    Mockito.verify(testLogger,Mockito.atLeast(2)).debug(Mockito.anyString(),Mockito.eq(tempDir));
    logEventService.removeAll(tempDir);
  }
}
