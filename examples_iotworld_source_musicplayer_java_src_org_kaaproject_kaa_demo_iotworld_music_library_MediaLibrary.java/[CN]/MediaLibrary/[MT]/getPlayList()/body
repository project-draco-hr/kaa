{
  Map<String,AlbumInfo> albumMap=new HashMap<String,AlbumInfo>();
  for (  KaaMp3File song : songs.values()) {
    SongInfo songInfo=song.getSongInfo();
    String albumId=songInfo.getAlbumId();
    if (!albumMap.containsKey(albumId)) {
      AlbumInfo info=new AlbumInfo();
      info.setAlbumId(albumId);
      info.setArtist(song.getArtist());
      info.setTitle(albumId);
      info.setSongs(new ArrayList<SongInfo>());
      info.setCover(getAlbumCover(albumId,song));
      albumMap.put(albumId,info);
    }
    albumMap.get(albumId).getSongs().add(songInfo);
  }
  List<AlbumInfo> albums=new ArrayList<AlbumInfo>(albumMap.values());
  Collections.sort(albums,new Comparator<AlbumInfo>(){
    @Override public int compare(    AlbumInfo o1,    AlbumInfo o2){
      return o1.getAlbumId().compareTo(o2.getAlbumId());
    }
  }
);
  return albums;
}
