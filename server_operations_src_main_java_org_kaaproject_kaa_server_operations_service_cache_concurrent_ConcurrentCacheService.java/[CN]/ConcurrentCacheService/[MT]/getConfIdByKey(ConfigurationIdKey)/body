{
  return cfIdMemorizer.compute(key,new Computable<ConfigurationIdKey,String>(){
    @Override public String compute(    ConfigurationIdKey key){
      LOG.debug("Fetching result for getConfIdByKey");
      String confId=null;
      List<ConfigurationDto> configurations=configurationService.findConfigurationsByEndpointGroupId(key.getEndpointGroupId());
      for (      ConfigurationDto confDto : configurations) {
        if (confDto.getMajorVersion() == key.getConfigSchemaVersion()) {
          confId=confDto.getId();
          putConfId(key,confId);
          break;
        }
      }
      return confId;
    }
  }
);
}
