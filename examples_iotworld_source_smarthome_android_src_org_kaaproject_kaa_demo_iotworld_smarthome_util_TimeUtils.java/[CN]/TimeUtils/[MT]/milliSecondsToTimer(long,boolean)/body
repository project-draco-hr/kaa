{
  StringBuilder timerStringBuilder=new StringBuilder();
  StringBuilder secondsStringBuilder=new StringBuilder();
  int hours=(int)(milliseconds / (1000 * 60 * 60));
  int minutes=(int)(milliseconds % (1000 * 60 * 60)) / (1000 * 60);
  int seconds=(int)((milliseconds % (1000 * 60 * 60)) % (1000 * 60) / 1000);
  if (hours > 0) {
    timerStringBuilder.append(hours);
    if (extended) {
      timerStringBuilder.append(" h");
    }
 else {
      timerStringBuilder.append(":");
    }
  }
  if (seconds < 10) {
    secondsStringBuilder.append("0");
  }
  secondsStringBuilder.append(seconds);
  if (extended) {
    secondsStringBuilder.append(" s");
  }
  if (extended) {
    if (hours > 0) {
      timerStringBuilder.append(" ");
    }
    timerStringBuilder.append(minutes);
    timerStringBuilder.append(" m");
  }
 else {
    timerStringBuilder.append(minutes);
    timerStringBuilder.append(":");
  }
  if (seconds > 0 || !extended) {
    if (extended) {
      timerStringBuilder.append(" ");
      timerStringBuilder.append(secondsStringBuilder);
    }
 else {
      timerStringBuilder.append(secondsStringBuilder);
    }
  }
  return timerStringBuilder.toString();
}
