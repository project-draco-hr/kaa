{
  AvroByteArrayConverter<SyncRequest> requestConverter=new AvroByteArrayConverter<>(SyncRequest.class);
  byte[] data=requestConverter.toByteArray(request);
  final byte[] encodedData=crypt.encodeData(data);
  final byte[] encodedSessionKey=crypt.getEncodedSessionKey();
  final byte[] sessionKeySignature=crypt.sign(encodedSessionKey);
  return new SessionInitRequest(){
    @Override public UUID getChannelUuid(){
      return uuid;
    }
    @Override public ChannelType getChannelType(){
      return channelType;
    }
    @Override public ChannelHandlerContext getChannelContext(){
      return ctx;
    }
    @Override public byte[] getSessionKeySignature(){
      return sessionKeySignature;
    }
    @Override public byte[] getEncodedSessionKey(){
      return encodedSessionKey;
    }
    @Override public byte[] getEncodedRequestData(){
      return encodedData;
    }
    @Override public SyncStatistics getSyncStatistics(){
      return null;
    }
    @Override public ResponseBuilder getResponseBuilder(){
      return responseBuilder;
    }
    @Override public ErrorBuilder getErrorBuilder(){
      return errorBuilder;
    }
    @Override public void onSessionCreated(    NettySessionInfo session){
    }
    @Override public int getKeepAlive(){
      return 100;
    }
    @Override public boolean isEncrypted(){
      return true;
    }
  }
;
}
