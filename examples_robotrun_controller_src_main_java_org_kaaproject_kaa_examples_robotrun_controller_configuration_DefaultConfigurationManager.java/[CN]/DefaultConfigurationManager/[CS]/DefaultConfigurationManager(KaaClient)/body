{
  if (client == null) {
    LOG.error("Can not instantiate ConfigurationManager: Kaa client is null");
    throw new IllegalArgumentException("Kaa client is null");
  }
  labyrinthConverter=new BasicLabyrinthConverter();
  CommonRecord currentConfig=client.getConfigurationManager().getConfiguration();
  if (currentConfig != null) {
    onConfigurationUpdated(currentConfig);
  }
 else {
    labyrinth=new BasicLabyrinth(0,0);
  }
  client.getConfigurationManager().subscribeForConfigurationUpdates(this);
}
