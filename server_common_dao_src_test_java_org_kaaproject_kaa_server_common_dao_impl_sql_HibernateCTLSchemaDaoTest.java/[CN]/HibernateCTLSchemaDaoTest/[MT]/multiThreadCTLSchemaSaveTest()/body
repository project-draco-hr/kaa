{
  List<Future<CTLSchemaDto>> list=new ArrayList<>();
  for (int i=0; i < 100; i++) {
    final int x=i;
    list.add(executorService.submit(new Callable<CTLSchemaDto>(){
      @Override public CTLSchemaDto call(){
        CTLSchemaDto sch=null;
        try {
          if (x % 77 == 0) {
            sch=ctlSchemaService.save(generateCTLSchema(null));
          }
 else {
            sch=ctlSchemaService.save(generateCTLSchema(generateTenantDto().getId()));
          }
        }
 catch (        Throwable t) {
          LOG.warn("Catch exception {}",t.getCause(),t);
        }
        return sch;
      }
    }
));
  }
  for (  Future<CTLSchemaDto> f : list) {
    LOG.debug("id {}",f.get());
  }
}
