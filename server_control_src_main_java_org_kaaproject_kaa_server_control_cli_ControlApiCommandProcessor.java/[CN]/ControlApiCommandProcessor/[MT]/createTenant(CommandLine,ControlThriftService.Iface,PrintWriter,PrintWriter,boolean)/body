{
  try {
    TenantDto tenant=null;
    if (edit) {
      String tenantId=line.getOptionValue("i");
      tenant=toDto(client.getTenant(tenantId));
      if (tenant == null) {
        writer.println("Tenant with id " + tenantId + NOT_FOUND);
        return;
      }
    }
 else {
      tenant=new TenantDto();
    }
    if (line.hasOption("n")) {
      tenant.setName(line.getOptionValue("n"));
    }
    TenantDto savedTenant=toDto(client.editTenant(toDataStruct(tenant)));
    if (edit) {
      writer.println("Tenant updated.");
    }
 else {
      writer.println("Created new tenant with id: " + savedTenant.getId());
      if (line.hasOption("o")) {
        String outFileName=line.getOptionValue("o");
        storeInfo(outFileName,savedTenant.getId(),errorWriter);
      }
    }
  }
 catch (  TException e) {
    handleException(UNABLE_TO + (edit ? UPDATE : CREATE) + " tenant",e,errorWriter);
  }
}
