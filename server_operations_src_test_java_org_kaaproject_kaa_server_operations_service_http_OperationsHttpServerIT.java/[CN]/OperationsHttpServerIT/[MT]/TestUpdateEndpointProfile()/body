{
  logger.info("Test Update Endpoint profile request");
  for (int i=0; i < NUMBER_OF_TESTS; i++) {
    sendUpdateProfileRequest();
  }
  try {
synchronized (sync) {
      sync.wait(MAX_TEST_TIMEOUT);
    }
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  for (  Integer id : updTests.keySet()) {
    if (!updTests.get(id).test()) {
      testFailed++;
      logger.trace("Update Endpoint Profile Test " + id + " failed.");
    }
  }
  assertEquals(0,testFailed);
}
