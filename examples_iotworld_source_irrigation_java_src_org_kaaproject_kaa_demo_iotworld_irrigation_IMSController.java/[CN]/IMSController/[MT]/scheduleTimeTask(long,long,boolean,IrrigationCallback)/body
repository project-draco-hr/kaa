{
  LOG.info("Scheduling task with initial delay {} interval {}",initialDelay,delay);
  stopCurrentTask();
  LOG.debug("Force stoped previous scheduled task {}",scheduledFuture);
  scheduledFuture=executor.scheduleWithFixedDelay(new Runnable(){
    @Override public void run(){
      try {
        callback.beforeIrrigation();
        gpioManager.togglePinToHight(configuration.getIrrigationDurationTime());
        callback.afterIrrigation();
      }
 catch (      Exception e) {
        LOG.error("Failed to process irrigation!",e);
        try {
          gpioManager.togglePinToLow();
        }
 catch (        Exception e2) {
          LOG.error("Failed to stop irrigation!",e2);
        }
        callback.afterIrrigation();
      }
    }
  }
,initialDelay,delay,TimeUnit.MILLISECONDS);
}
