{
  KaaChannelManager channelManager=Mockito.mock(KaaChannelManager.class);
  KaaClientState clientState=Mockito.mock(KaaClientState.class);
  KaaDataChannel channel=Mockito.mock(KaaDataChannel.class);
  Mockito.when(channelManager.getChannelByTransportType(TransportType.PROFILE)).thenReturn(channel);
  ProfileTransport transport=new DefaultProfileTransport();
  transport.setChannelManager(channelManager);
  transport.setClientState(clientState);
  ProfileSyncResponse response=new ProfileSyncResponse();
  response.setResponseStatus(SyncResponseStatus.RESYNC);
  transport.onProfileResponse(response);
  Mockito.verify(channel,Mockito.times(1)).syncAll();
}
