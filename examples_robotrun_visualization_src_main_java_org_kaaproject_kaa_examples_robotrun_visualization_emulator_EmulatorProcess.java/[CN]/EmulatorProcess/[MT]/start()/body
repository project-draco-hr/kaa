{
  try {
    process=processBuilder.start();
    running=true;
    output=new PrintWriter(process.getOutputStream());
    handleStream(process.getInputStream());
    processWaiter=new Thread(new Runnable(){
      public void run(){
        try {
          process.waitFor();
        }
 catch (        InterruptedException e) {
        }
        fireProcessStopped();
      }
    }
,"Process waiter for " + id);
    processWaiter.start();
  }
 catch (  IOException e) {
    LOG.error("Unable to start emulator process!",e);
    throw new RuntimeException("Unable to start emulator process!");
  }
}
