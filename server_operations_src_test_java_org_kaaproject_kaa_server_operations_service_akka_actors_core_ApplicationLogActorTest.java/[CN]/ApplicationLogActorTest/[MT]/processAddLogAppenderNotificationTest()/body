{
  LogAppender mockAppender=mock(LogAppender.class);
  Mockito.when(mockAppender.getName()).thenReturn("flume");
  Mockito.when(mockAppender.getAppenderId()).thenReturn(APPENDER_ID);
  Notification notification=new Notification();
  notification.setAppenderId(APPENDER_ID);
  notification.setAppId(APPLICATION_ID);
  notification.setOp(Operation.ADD_LOG_APPENDER);
  List<LogAppender> appenders=mock(List.class);
  ReflectionTestUtils.setField(applicationLogActor,"logAppenders",appenders);
  when(logAppenderService.getApplicationAppender(APPENDER_ID)).thenReturn(mockAppender);
  ReflectionTestUtils.invokeMethod(applicationLogActor,"processLogAppenderNotification",notification);
  verify(logAppenderService,times(1)).getApplicationAppender(APPENDER_ID);
  verify(appenders,times(1)).add(any(LogAppender.class));
  ReflectionTestUtils.setField(applicationLogActor,"logAppenders",logAppenders);
}
