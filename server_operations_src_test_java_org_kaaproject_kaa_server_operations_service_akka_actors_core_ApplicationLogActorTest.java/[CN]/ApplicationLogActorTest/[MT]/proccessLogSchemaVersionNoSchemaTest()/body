{
  LogEventPackMessage logEventPackMessage=mock(LogEventPackMessage.class);
  ReflectionTestUtils.setField(applicationLogActor,"applicationId",APPLICATION_ID);
  logAppenders.add(logAppender);
  when(logEventPackMessage.getLogSchemaVersion()).thenReturn(LOG_SCHEMA_VERSION);
  when(logEventPackMessage.getLogEventPack()).thenReturn(new LogEventPack());
  when(logAppenderService.getLogSchema(APPLICATION_ID,LOG_SCHEMA_VERSION)).thenReturn(logSchema);
  ReflectionTestUtils.invokeMethod(applicationLogActor,"processLogEventPack",logEventPackMessage);
  verify(logAppender).doAppend(logEventPackMessage.getLogEventPack(),Mockito.any(LogDeliveryCallback.class));
  Assert.assertEquals(1,logSchemas.size());
}
