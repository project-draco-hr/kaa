{
  NettySessionInfo session=new NettySessionInfo(UUID.randomUUID(),Constants.KAA_PLATFORM_PROTOCOL_AVRO_ID,null,ChannelType.HTTP,null,null,"applicationToken",0,true);
  ClientSync request=new ClientSync();
  request.setClientSyncMetaData(new ClientSyncMetaData());
  SyncRequestMessage message=new SyncRequestMessage(session,request,null,null);
  ClientSync other=new ClientSync();
  other.setClientSyncMetaData(new ClientSyncMetaData());
  SyncRequestMessage otherMessage=new SyncRequestMessage(session,other,null,null);
  Assert.assertFalse(message.isValid(TransportType.BOOTSTRAP));
  Assert.assertFalse(message.isValid(TransportType.PROFILE));
  other.setProfileSync(new ProfileClientSync());
  message.merge(otherMessage);
  Assert.assertTrue(message.isValid(TransportType.PROFILE));
  Assert.assertFalse(message.isValid(TransportType.CONFIGURATION));
  other.setConfigurationSync(new ConfigurationClientSync(10,ByteBuffer.wrap("String".getBytes())));
  message.merge(otherMessage);
  Assert.assertTrue(message.isValid(TransportType.CONFIGURATION));
  Assert.assertFalse(message.isValid(TransportType.NOTIFICATION));
  other.setNotificationSync(new NotificationClientSync());
  message.merge(otherMessage);
  Assert.assertTrue(message.isValid(TransportType.NOTIFICATION));
  Assert.assertFalse(message.isValid(TransportType.USER));
  other.setUserSync(new UserClientSync());
  message.merge(otherMessage);
  Assert.assertTrue(message.isValid(TransportType.USER));
  Assert.assertFalse(message.isValid(TransportType.LOGGING));
  other.setLogSync(new LogClientSync());
  message.merge(otherMessage);
  Assert.assertTrue(message.isValid(TransportType.LOGGING));
  Assert.assertFalse(message.isValid(TransportType.EVENT));
  other.setEventSync(new EventClientSync());
  message.merge(otherMessage);
  Assert.assertTrue(message.isValid(TransportType.EVENT));
}
