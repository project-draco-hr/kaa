{
  LOG.info("Loading 'City Guide Demo Application' data...");
  loginTenantAdmin(client);
  ApplicationDto cityGuideApplication=new ApplicationDto();
  cityGuideApplication.setName("City guide");
  cityGuideApplication=client.editApplication(cityGuideApplication);
  sdkKey.setApplicationId(cityGuideApplication.getId());
  sdkKey.setNotificationSchemaVersion(1);
  sdkKey.setLogSchemaVersion(1);
  sdkKey.setTargetPlatform(SdkPlatform.ANDROID);
  loginTenantDeveloper(client);
  ConfigurationSchemaDto configurationSchema=new ConfigurationSchemaDto();
  configurationSchema.setApplicationId(cityGuideApplication.getId());
  configurationSchema.setName("City guide configuration schema");
  configurationSchema.setDescription("Configuration schema describing cities and places used by city guide application");
  configurationSchema=client.createConfigurationSchema(configurationSchema,"demo/cityguide/city_guide.avsc");
  sdkKey.setConfigurationSchemaVersion(configurationSchema.getMajorVersion());
  ProfileSchemaDto profileSchema=new ProfileSchemaDto();
  profileSchema.setApplicationId(cityGuideApplication.getId());
  profileSchema.setName("City guide profile schema");
  profileSchema.setDescription("Profile schema describing city guide application profile");
  profileSchema=client.createProfileSchema(profileSchema,"demo/cityguide/city_guide_profile.avsc");
  sdkKey.setProfileSchemaVersion(profileSchema.getMajorVersion());
  EndpointGroupDto baseEndpointGroup=null;
  List<EndpointGroupDto> endpointGroups=client.getEndpointGroups(cityGuideApplication.getId());
  if (endpointGroups.size() == 1 && endpointGroups.get(0).getWeight() == 0) {
    baseEndpointGroup=endpointGroups.get(0);
  }
  if (baseEndpointGroup == null) {
    throw new RuntimeException("Can't get default endpoint group for city guide application!");
  }
  ConfigurationDto baseConfiguration=new ConfigurationDto();
  baseConfiguration.setApplicationId(cityGuideApplication.getId());
  baseConfiguration.setEndpointGroupId(baseEndpointGroup.getId());
  baseConfiguration.setSchemaId(configurationSchema.getId());
  baseConfiguration.setMajorVersion(configurationSchema.getMajorVersion());
  baseConfiguration.setMinorVersion(configurationSchema.getMinorVersion());
  baseConfiguration.setDescription("Base city guide configuration");
  baseConfiguration.setBody(FileUtils.readResource("demo/cityguide/city_guide_data_all.json"));
  baseConfiguration.setStatus(UpdateStatus.INACTIVE);
  baseConfiguration=client.editConfiguration(baseConfiguration);
  client.activateConfiguration(baseConfiguration.getId());
  EndpointGroupDto atlantaEndpointGroup=new EndpointGroupDto();
  atlantaEndpointGroup.setApplicationId(cityGuideApplication.getId());
  atlantaEndpointGroup.setName("North America/Atlanta");
  atlantaEndpointGroup.setDescription("Atlanta endpoint group");
  atlantaEndpointGroup.setWeight(1);
  atlantaEndpointGroup=client.editEndpointGroup(atlantaEndpointGroup);
  ConfigurationDto atlantaConfiguration=new ConfigurationDto();
  atlantaConfiguration.setApplicationId(cityGuideApplication.getId());
  atlantaConfiguration.setEndpointGroupId(atlantaEndpointGroup.getId());
  atlantaConfiguration.setSchemaId(configurationSchema.getId());
  atlantaConfiguration.setMajorVersion(configurationSchema.getMajorVersion());
  atlantaConfiguration.setMinorVersion(configurationSchema.getMinorVersion());
  atlantaConfiguration.setDescription("City guide configuration for Atlanta city");
  atlantaConfiguration.setBody(FileUtils.readResource("demo/cityguide/city_guide_data_atlanta.json"));
  atlantaConfiguration.setStatus(UpdateStatus.INACTIVE);
  atlantaConfiguration=client.editConfiguration(atlantaConfiguration);
  client.activateConfiguration(atlantaConfiguration.getId());
  ProfileFilterDto atlantaProfileFilter=new ProfileFilterDto();
  atlantaProfileFilter.setApplicationId(cityGuideApplication.getId());
  atlantaProfileFilter.setEndpointGroupId(atlantaEndpointGroup.getId());
  atlantaProfileFilter.setSchemaId(profileSchema.getId());
  atlantaProfileFilter.setMajorVersion(profileSchema.getMajorVersion());
  atlantaProfileFilter.setMinorVersion(profileSchema.getMinorVersion());
  atlantaProfileFilter.setDescription("Profile filter for Atlanta city");
  atlantaProfileFilter.setBody(FileUtils.readResource("demo/cityguide/city_guide_filter_atlanta.json"));
  atlantaProfileFilter.setStatus(UpdateStatus.INACTIVE);
  atlantaProfileFilter=client.editProfileFilter(atlantaProfileFilter);
  client.activateProfileFilter(atlantaProfileFilter.getId());
  EndpointGroupDto amsterdamEndpointGroup=new EndpointGroupDto();
  amsterdamEndpointGroup.setApplicationId(cityGuideApplication.getId());
  amsterdamEndpointGroup.setName("Europe/Amsterdam");
  amsterdamEndpointGroup.setDescription("Amsterdam endpoint group");
  amsterdamEndpointGroup.setWeight(2);
  amsterdamEndpointGroup=client.editEndpointGroup(amsterdamEndpointGroup);
  ConfigurationDto amsterdamConfiguration=new ConfigurationDto();
  amsterdamConfiguration.setApplicationId(cityGuideApplication.getId());
  amsterdamConfiguration.setEndpointGroupId(amsterdamEndpointGroup.getId());
  amsterdamConfiguration.setSchemaId(configurationSchema.getId());
  amsterdamConfiguration.setMajorVersion(configurationSchema.getMajorVersion());
  amsterdamConfiguration.setMinorVersion(configurationSchema.getMinorVersion());
  amsterdamConfiguration.setDescription("City guide configuration for Amsterdam city");
  amsterdamConfiguration.setBody(FileUtils.readResource("demo/cityguide/city_guide_data_amsterdam.json"));
  amsterdamConfiguration.setStatus(UpdateStatus.INACTIVE);
  amsterdamConfiguration=client.editConfiguration(amsterdamConfiguration);
  client.activateConfiguration(amsterdamConfiguration.getId());
  ProfileFilterDto amsterdamProfileFilter=new ProfileFilterDto();
  amsterdamProfileFilter.setApplicationId(cityGuideApplication.getId());
  amsterdamProfileFilter.setEndpointGroupId(amsterdamEndpointGroup.getId());
  amsterdamProfileFilter.setSchemaId(profileSchema.getId());
  amsterdamProfileFilter.setMajorVersion(profileSchema.getMajorVersion());
  amsterdamProfileFilter.setMinorVersion(profileSchema.getMinorVersion());
  amsterdamProfileFilter.setDescription("Profile filter for Amsterdam city");
  amsterdamProfileFilter.setBody(FileUtils.readResource("demo/cityguide/city_guide_filter_amsterdam.json"));
  amsterdamProfileFilter.setStatus(UpdateStatus.INACTIVE);
  amsterdamProfileFilter=client.editProfileFilter(amsterdamProfileFilter);
  client.activateProfileFilter(amsterdamProfileFilter.getId());
  LOG.info("Finished loading 'City Guide Demo Application' data.");
}
