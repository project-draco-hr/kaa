{
  ResponseEntity<String> entity=null;
  ServiceErrorCode errorCode=ex.getErrorCode();
switch (errorCode) {
case NOT_AUTHORIZED:
    entity=new ResponseEntity<>(HttpStatus.UNAUTHORIZED);
  break;
case PERMISSION_DENIED:
entity=new ResponseEntity<>(HttpStatus.FORBIDDEN);
break;
case INVALID_ARGUMENTS:
entity=new ResponseEntity<>(HttpStatus.BAD_REQUEST);
break;
case INVALID_SCHEMA:
entity=new ResponseEntity<>(HttpStatus.BAD_REQUEST);
break;
case FILE_NOT_FOUND:
entity=new ResponseEntity<>(HttpStatus.NOT_FOUND);
break;
case ITEM_NOT_FOUND:
entity=new ResponseEntity<>(HttpStatus.NOT_FOUND);
break;
case GENERAL_ERROR:
entity=new ResponseEntity<>(ex.getMessage(),HttpStatus.INTERNAL_SERVER_ERROR);
break;
}
return entity;
}
