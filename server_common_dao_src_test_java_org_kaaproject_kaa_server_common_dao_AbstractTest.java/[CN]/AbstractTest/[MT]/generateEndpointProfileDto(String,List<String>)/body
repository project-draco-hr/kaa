{
  if (isBlank(appId)) {
    appId=generateApplicationDto().getId();
  }
  EndpointProfileDto profileDto=new EndpointProfileDto();
  profileDto.setApplicationId(appId);
  profileDto.setSubscriptions(topicIds);
  profileDto.setEndpointKeyHash("TEST_KEY_HASH".getBytes());
  profileDto.setClientProfileBody("{\"title\": \"TEST\"}");
  profileDto.setSdkToken(UUID.randomUUID().toString());
  return endpointService.saveEndpointProfile(profileDto);
}
