{
  File f=mFileCache.getFile(key);
  Bitmap b=decodeFile(f,key.type.targetSize);
  if (b != null) {
    return b;
  }
  try {
    Bitmap bitmap=null;
    URL imageUrl=new URL(key.url);
    HttpURLConnection conn=(HttpURLConnection)imageUrl.openConnection();
    conn.setConnectTimeout(30000);
    conn.setReadTimeout(30000);
    conn.setInstanceFollowRedirects(true);
    InputStream is=conn.getInputStream();
    OutputStream os=new FileOutputStream(f);
    Utils.copyStream(is,os);
    os.close();
    bitmap=decodeFile(f,key.type.targetSize);
    return bitmap;
  }
 catch (  Throwable ex) {
    Log.e(TAG,"Unable to load bitmap!",ex);
    if (ex instanceof OutOfMemoryError) {
      mMemoryCache.clear();
    }
    return null;
  }
}
