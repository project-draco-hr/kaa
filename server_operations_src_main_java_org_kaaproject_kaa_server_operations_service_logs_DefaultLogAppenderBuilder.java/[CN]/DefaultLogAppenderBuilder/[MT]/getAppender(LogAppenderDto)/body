{
  LogAppender logAppender=null;
  if (appenderConfig != null) {
    try {
      @SuppressWarnings("unchecked") Class<LogAppender> appenderClass=(Class<LogAppender>)Class.forName(appenderConfig.getAppenderClassName());
      logAppender=appenderClass.newInstance();
    }
 catch (    ClassNotFoundException e) {
      LOG.error("Unable to find custom appender class " + appenderConfig.getAppenderClassName(),e);
    }
catch (    InstantiationException|IllegalAccessException e) {
      LOG.error("Unable to instantiate custom appender from class " + appenderConfig.getAppenderClassName(),e);
    }
  }
  if (logAppender != null) {
    LOG.debug("Init log appender [{}] with appender configuration {[]}.",logAppender,appenderConfig);
    logAppender.setName(appenderConfig.getName());
    logAppender.setAppenderId(appenderConfig.getId());
    logAppender.setApplicationToken(appenderConfig.getApplicationToken());
    logAppender.init(appenderConfig);
  }
  return logAppender;
}
