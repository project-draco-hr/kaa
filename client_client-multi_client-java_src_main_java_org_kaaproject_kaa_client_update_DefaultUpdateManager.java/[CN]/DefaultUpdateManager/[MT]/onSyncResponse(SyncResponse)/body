{
  LOG.info("SyncResponse received: {}",response.toString());
  LOG.info("SyncResponse new seq number: {}",response.getAppStateSeqNumber());
  if (!state.isRegistered()) {
    state.setRegistered(true);
  }
  if (response.getResponseType() == SyncResponseStatus.PROFILE_RESYNC) {
    try {
      byte[] profile=profileContainer.getSerializedProfile();
      startProfileUpdate(profile);
    }
 catch (    IOException e) {
      LOG.error("Failed to retrieve profile.");
    }
  }
  acceptedUnicastNotificationIds.clear();
  updateAppStateSeqNumber(response);
  updateNotificationStatus(response);
  notifyListeners(response);
  sentNotificationCommands.clear();
  state.persist();
  if (failover) {
    failover=false;
    pollStrategy.startPoll();
  }
}
