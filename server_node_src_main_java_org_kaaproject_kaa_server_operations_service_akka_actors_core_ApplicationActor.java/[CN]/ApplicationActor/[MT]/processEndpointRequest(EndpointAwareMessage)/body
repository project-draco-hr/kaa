{
  ActorMetaData endpointMetaData=endpointSessions.get(message.getKey());
  if (endpointMetaData == null) {
    String endpointActorId=LocalEndpointActorCreator.generateActorKey();
    LOG.debug("[{}] Creating actor with endpointKey: {}",applicationToken,endpointActorId);
    endpointMetaData=new ActorMetaData(context().actorOf(Props.create(new LocalEndpointActorCreator(context,endpointActorId,message.getAppToken(),message.getKey())).withDispatcher(ENDPOINT_DISPATCHER_NAME),endpointActorId),endpointActorId);
    endpointSessions.put(message.getKey(),endpointMetaData);
    endpointActorMap.put(endpointActorId,message.getKey());
    context().watch(endpointMetaData.actorRef);
  }
  endpointMetaData.actorRef.tell(message,self());
}
