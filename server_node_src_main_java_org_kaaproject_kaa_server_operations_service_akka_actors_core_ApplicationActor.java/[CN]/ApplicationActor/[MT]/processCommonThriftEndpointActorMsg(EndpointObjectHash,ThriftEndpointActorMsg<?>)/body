{
  if (msg.getMsg() instanceof ThriftEndpointDeregistrationMessage) {
    forwardMessageQuietly(globalEndpointSessions.get(endpointId),msg);
    forwardMessageQuietly(localEndpointSessions.get(endpointId),msg);
    throw new RuntimeException("TODO: remove key from hash");
  }
 else {
    return false;
  }
}
