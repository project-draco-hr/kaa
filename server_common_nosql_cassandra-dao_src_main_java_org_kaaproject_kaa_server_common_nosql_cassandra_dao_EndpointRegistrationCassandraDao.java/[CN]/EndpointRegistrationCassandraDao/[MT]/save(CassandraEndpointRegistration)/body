{
  endpointRegistration=super.save(endpointRegistration);
  List<Statement> statements=new ArrayList<>();
  statements.add(this.getSaveQuery(endpointRegistration));
  if (endpointRegistration.getCredentialsId() != null) {
    statements.add(this.byCredentialsID.getSaveQuery(CassandraEPRegistrationByCredentialsID.fromEndpointRegistration(endpointRegistration)));
  }
  this.executeBatch(statements.toArray(new Statement[statements.size()]));
  return endpointRegistration;
}
