{
  this.listener=listener;
  setLayout(new BorderLayout());
  surfacePanel=new LabyrinthSurface(labyrinth);
  add(surfacePanel,BorderLayout.CENTER);
  WindowAdapter adapter=new WindowAdapter(){
    public void windowOpened(    WindowEvent e){
      LabyrinthDialog.this.listener.onLabyrinthDialogShow();
    }
    public void windowClosing(    WindowEvent e){
      LabyrinthDialog.this.listener.onLabyrinthDialogHide();
    }
  }
;
  addWindowListener(adapter);
}
