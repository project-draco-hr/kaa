{
  int width=0;
  int height=0;
  List<Border> borders=new ArrayList<>();
  if (!bordersVal.isNull() && bordersVal.isArray()) {
    CommonArray bordersArray=bordersVal.getArray();
    for (    CommonValue borderVal : bordersArray.getList()) {
      if (!borderVal.isNull() && borderVal.isRecord()) {
        CommonRecord borderRecord=borderVal.getRecord();
        CommonEnum borderTypeEnum=borderRecord.getField("type").getEnum();
        BorderType type=BorderType.valueOf(borderTypeEnum.getSymbol());
        Border border=new Border(borderRecord.getField("x").getInteger(),borderRecord.getField("y").getInteger(),type);
        borders.add(border);
        width=Math.max(width,border.x);
        height=Math.max(height,border.y);
      }
    }
  }
  BorderType[][] result;
  if (!borders.isEmpty()) {
    result=new BorderType[width + 1][height + 1];
    for (    Border border : borders) {
      result[border.x][border.y]=border.type;
    }
  }
 else {
    result=new BorderType[0][0];
  }
  return result;
}
